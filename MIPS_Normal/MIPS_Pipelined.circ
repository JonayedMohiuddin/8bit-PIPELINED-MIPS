<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project source="2.7.1" version="1.0">
  This file is intended to be loaded by Logisim (http://www.cburch.com/logisim/).

  <lib desc="#Wiring" name="0">
    <tool name="Splitter">
      <a name="facing" val="west"/>
      <a name="fanout" val="3"/>
      <a name="incoming" val="3"/>
    </tool>
    <tool name="Pin">
      <a name="facing" val="north"/>
    </tool>
    <tool name="Probe">
      <a name="facing" val="north"/>
    </tool>
    <tool name="Pull Resistor">
      <a name="facing" val="north"/>
    </tool>
    <tool name="Clock">
      <a name="facing" val="north"/>
    </tool>
    <tool name="Constant">
      <a name="facing" val="north"/>
    </tool>
  </lib>
  <lib desc="#Gates" name="1"/>
  <lib desc="#Plexers" name="2"/>
  <lib desc="#Arithmetic" name="3"/>
  <lib desc="#Memory" name="4">
    <tool name="ROM">
      <a name="contents">addr/data: 8 8
0
</a>
    </tool>
  </lib>
  <lib desc="#I/O" name="5"/>
  <lib desc="#Base" name="6">
    <tool name="Text Tool">
      <a name="text" val=""/>
      <a name="font" val="SansSerif plain 12"/>
      <a name="halign" val="center"/>
      <a name="valign" val="base"/>
    </tool>
  </lib>
  <lib desc="jar#ALU.jar#tusharLogisim.MIPSTushar" name="7"/>
  <main name="MIPS_PIPELINE_EXTENDED"/>
  <options>
    <a name="gateUndefined" val="ignore"/>
    <a name="simlimit" val="1000"/>
    <a name="simrand" val="0"/>
  </options>
  <mappings>
    <tool lib="6" map="Button2" name="Menu Tool"/>
    <tool lib="6" map="Button3" name="Menu Tool"/>
    <tool lib="6" map="Ctrl Button1" name="Menu Tool"/>
  </mappings>
  <toolbar>
    <tool lib="6" name="Poke Tool"/>
    <tool lib="6" name="Edit Tool"/>
    <tool lib="6" name="Text Tool">
      <a name="text" val=""/>
      <a name="font" val="SansSerif plain 12"/>
      <a name="halign" val="center"/>
      <a name="valign" val="base"/>
    </tool>
    <sep/>
    <tool lib="0" name="Pin">
      <a name="tristate" val="false"/>
    </tool>
    <tool lib="0" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="labelloc" val="east"/>
    </tool>
    <tool lib="1" name="NOT Gate"/>
    <tool lib="1" name="AND Gate"/>
    <tool lib="1" name="OR Gate"/>
  </toolbar>
  <circuit name="MIPS_PIPELINE_EXTENDED">
    <a name="circuit" val="MIPS_PIPELINE_EXTENDED"/>
    <a name="clabel" val=""/>
    <a name="clabelup" val="east"/>
    <a name="clabelfont" val="SansSerif plain 12"/>
    <appear>
      <rect fill="none" height="270" stroke="#000000" stroke-width="2" width="130" x="50" y="50"/>
      <text font-family="Corbel" font-size="16" font-weight="bold" text-anchor="middle" x="138" y="191">8 BIT</text>
      <ellipse cx="69.0" cy="67.0" fill="#ffffff" rx="10.0" ry="10.0" stroke="#000000" stroke-width="2"/>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="68" y="96">PC</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="79" y="114">RESET</text>
      <rect fill="#d5e9ff" fill-opacity="0.192" height="40" rx="5" ry="5" stroke="#000000" stroke-width="2" width="88" x="72" y="157"/>
      <text font-family="Corbel" font-size="16" font-weight="bold" text-anchor="middle" x="96" y="191">MIPS</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="144" y="114">IO WRITE</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="158" y="74">CLK</text>
      <text font-family="Corbel" font-size="16" font-weight="bold" text-anchor="middle" x="117" y="173">PIPELINED</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="169" y="153">0</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="62" y="306">15</text>
      <text font-family="SansSerif" font-size="8" font-weight="bold" text-anchor="middle" x="154" y="139">I/O ENABLE</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="63" y="153">0</text>
      <text font-family="SansSerif" font-size="8" font-weight="bold" text-anchor="middle" x="78" y="139">READ DATA</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="165" y="306">15</text>
      <circ-port height="8" pin="130,130" width="8" x="46" y="106"/>
      <circ-port height="10" pin="190,90" width="10" x="175" y="65"/>
      <circ-port height="10" pin="360,240" width="10" x="55" y="45"/>
      <circ-anchor facing="east" height="6" width="6" x="177" y="67"/>
    </appear>
    <wire from="(2280,460)" to="(2310,460)"/>
    <wire from="(940,620)" to="(940,630)"/>
    <wire from="(950,630)" to="(950,640)"/>
    <wire from="(2340,610)" to="(2340,710)"/>
    <wire from="(2450,800)" to="(2470,800)"/>
    <wire from="(1700,640)" to="(1700,790)"/>
    <wire from="(2240,750)" to="(2260,750)"/>
    <wire from="(810,500)" to="(1230,500)"/>
    <wire from="(380,220)" to="(380,240)"/>
    <wire from="(510,350)" to="(510,370)"/>
    <wire from="(2460,820)" to="(2470,820)"/>
    <wire from="(2450,810)" to="(2460,810)"/>
    <wire from="(2030,750)" to="(2030,760)"/>
    <wire from="(380,220)" to="(480,220)"/>
    <wire from="(2340,480)" to="(2340,610)"/>
    <wire from="(2850,450)" to="(2850,460)"/>
    <wire from="(560,350)" to="(580,350)"/>
    <wire from="(1090,730)" to="(1100,730)"/>
    <wire from="(1080,720)" to="(1090,720)"/>
    <wire from="(1500,380)" to="(1500,440)"/>
    <wire from="(90,490)" to="(240,490)"/>
    <wire from="(2550,630)" to="(2550,640)"/>
    <wire from="(490,410)" to="(640,410)"/>
    <wire from="(2610,690)" to="(2610,700)"/>
    <wire from="(2440,520)" to="(2440,530)"/>
    <wire from="(1650,490)" to="(1660,490)"/>
    <wire from="(340,140)" to="(350,140)"/>
    <wire from="(2780,540)" to="(2780,570)"/>
    <wire from="(1250,460)" to="(1340,460)"/>
    <wire from="(90,310)" to="(90,490)"/>
    <wire from="(1500,450)" to="(1660,450)"/>
    <wire from="(1080,710)" to="(1100,710)"/>
    <wire from="(560,360)" to="(570,360)"/>
    <wire from="(570,370)" to="(580,370)"/>
    <wire from="(2360,570)" to="(2590,570)"/>
    <wire from="(1280,270)" to="(1300,270)"/>
    <wire from="(1570,100)" to="(1670,100)"/>
    <wire from="(1770,300)" to="(1770,310)"/>
    <wire from="(410,700)" to="(410,720)"/>
    <wire from="(1870,720)" to="(1870,730)"/>
    <wire from="(2660,250)" to="(2740,250)"/>
    <wire from="(90,310)" to="(130,310)"/>
    <wire from="(1280,290)" to="(1280,300)"/>
    <wire from="(1440,410)" to="(1450,410)"/>
    <wire from="(2640,690)" to="(2640,700)"/>
    <wire from="(1360,660)" to="(1690,660)"/>
    <wire from="(3290,540)" to="(3290,560)"/>
    <wire from="(2050,230)" to="(2380,230)"/>
    <wire from="(2660,360)" to="(2890,360)"/>
    <wire from="(1370,800)" to="(1400,800)"/>
    <wire from="(2740,630)" to="(2740,660)"/>
    <wire from="(2260,660)" to="(2260,750)"/>
    <wire from="(3310,560)" to="(3310,570)"/>
    <wire from="(340,310)" to="(340,370)"/>
    <wire from="(2050,250)" to="(2590,250)"/>
    <wire from="(1500,380)" to="(1670,380)"/>
    <wire from="(290,310)" to="(340,310)"/>
    <wire from="(2380,230)" to="(2590,230)"/>
    <wire from="(2320,610)" to="(2340,610)"/>
    <wire from="(2460,760)" to="(2470,760)"/>
    <wire from="(1660,480)" to="(1660,490)"/>
    <wire from="(1470,180)" to="(1980,180)"/>
    <wire from="(1470,340)" to="(1980,340)"/>
    <wire from="(1570,270)" to="(1760,270)"/>
    <wire from="(1280,260)" to="(1280,270)"/>
    <wire from="(1430,570)" to="(1430,580)"/>
    <wire from="(810,540)" to="(830,540)"/>
    <wire from="(1540,800)" to="(1550,800)"/>
    <wire from="(1370,640)" to="(1700,640)"/>
    <wire from="(1050,630)" to="(1060,630)"/>
    <wire from="(2290,540)" to="(2350,540)"/>
    <wire from="(1910,850)" to="(1920,850)"/>
    <wire from="(170,540)" to="(190,540)"/>
    <wire from="(2470,650)" to="(2470,660)"/>
    <wire from="(3350,660)" to="(3350,880)"/>
    <wire from="(2050,560)" to="(2140,560)"/>
    <wire from="(810,480)" to="(860,480)"/>
    <wire from="(2540,470)" to="(2570,470)"/>
    <wire from="(1490,440)" to="(1490,470)"/>
    <wire from="(1300,500)" to="(1340,500)"/>
    <wire from="(2570,510)" to="(2590,510)"/>
    <wire from="(2250,510)" to="(2270,510)"/>
    <wire from="(2350,610)" to="(2370,610)"/>
    <wire from="(1660,450)" to="(1660,460)"/>
    <wire from="(160,70)" to="(160,90)"/>
    <wire from="(2260,660)" to="(2400,660)"/>
    <wire from="(1460,410)" to="(1460,420)"/>
    <wire from="(640,390)" to="(640,410)"/>
    <wire from="(2270,640)" to="(2270,770)"/>
    <wire from="(2400,620)" to="(2460,620)"/>
    <wire from="(2940,610)" to="(2940,620)"/>
    <wire from="(3240,360)" to="(3280,360)"/>
    <wire from="(1610,80)" to="(1610,120)"/>
    <wire from="(2380,210)" to="(2380,230)"/>
    <wire from="(2780,540)" to="(2820,540)"/>
    <wire from="(340,50)" to="(350,50)"/>
    <wire from="(1470,520)" to="(1500,520)"/>
    <wire from="(1650,390)" to="(1670,390)"/>
    <wire from="(1700,110)" to="(1730,110)"/>
    <wire from="(2050,500)" to="(2270,500)"/>
    <wire from="(1000,590)" to="(1000,640)"/>
    <wire from="(1570,100)" to="(1570,270)"/>
    <wire from="(2550,630)" to="(2590,630)"/>
    <wire from="(930,410)" to="(980,410)"/>
    <wire from="(370,490)" to="(420,490)"/>
    <wire from="(2050,160)" to="(2160,160)"/>
    <wire from="(2220,450)" to="(2240,450)"/>
    <wire from="(1240,480)" to="(1340,480)"/>
    <wire from="(280,320)" to="(280,340)"/>
    <wire from="(1500,450)" to="(1500,520)"/>
    <wire from="(370,90)" to="(370,110)"/>
    <wire from="(1060,620)" to="(1060,630)"/>
    <wire from="(1610,120)" to="(1670,120)"/>
    <wire from="(3260,530)" to="(3280,530)"/>
    <wire from="(370,20)" to="(410,20)"/>
    <wire from="(3290,560)" to="(3310,560)"/>
    <wire from="(2860,660)" to="(2860,670)"/>
    <wire from="(1080,760)" to="(1090,760)"/>
    <wire from="(2350,700)" to="(2410,700)"/>
    <wire from="(3370,520)" to="(3370,870)"/>
    <wire from="(220,530)" to="(240,530)"/>
    <wire from="(400,720)" to="(410,720)"/>
    <wire from="(1610,290)" to="(1760,290)"/>
    <wire from="(2780,510)" to="(2820,510)"/>
    <wire from="(1360,660)" to="(1360,820)"/>
    <wire from="(160,320)" to="(170,320)"/>
    <wire from="(910,750)" to="(920,750)"/>
    <wire from="(1510,720)" to="(1510,740)"/>
    <wire from="(180,510)" to="(180,520)"/>
    <wire from="(1280,620)" to="(1510,620)"/>
    <wire from="(2460,500)" to="(2480,500)"/>
    <wire from="(1360,820)" to="(1400,820)"/>
    <wire from="(2980,530)" to="(3010,530)"/>
    <wire from="(1470,250)" to="(1980,250)"/>
    <wire from="(1790,280)" to="(1840,280)"/>
    <wire from="(290,290)" to="(400,290)"/>
    <wire from="(1090,780)" to="(1090,790)"/>
    <wire from="(3090,560)" to="(3170,560)"/>
    <wire from="(2660,570)" to="(2780,570)"/>
    <wire from="(1470,290)" to="(1610,290)"/>
    <wire from="(1230,500)" to="(1230,680)"/>
    <wire from="(3370,500)" to="(3370,520)"/>
    <wire from="(1510,560)" to="(1510,620)"/>
    <wire from="(1300,500)" to="(1300,880)"/>
    <wire from="(410,700)" to="(420,700)"/>
    <wire from="(2780,420)" to="(2780,510)"/>
    <wire from="(1700,640)" to="(1980,640)"/>
    <wire from="(360,490)" to="(370,490)"/>
    <wire from="(1370,640)" to="(1370,800)"/>
    <wire from="(1280,520)" to="(1280,620)"/>
    <wire from="(860,480)" to="(860,730)"/>
    <wire from="(1260,340)" to="(1260,440)"/>
    <wire from="(1870,310)" to="(1870,410)"/>
    <wire from="(400,410)" to="(400,470)"/>
    <wire from="(1470,470)" to="(1490,470)"/>
    <wire from="(3090,540)" to="(3090,560)"/>
    <wire from="(2890,360)" to="(3170,360)"/>
    <wire from="(1770,310)" to="(1870,310)"/>
    <wire from="(1710,400)" to="(1820,400)"/>
    <wire from="(2450,780)" to="(2470,780)"/>
    <wire from="(2400,620)" to="(2400,660)"/>
    <wire from="(2420,640)" to="(2420,680)"/>
    <wire from="(2570,470)" to="(2570,510)"/>
    <wire from="(2050,680)" to="(2420,680)"/>
    <wire from="(1090,750)" to="(1090,760)"/>
    <wire from="(160,300)" to="(260,300)"/>
    <wire from="(1080,700)" to="(1090,700)"/>
    <wire from="(1240,480)" to="(1240,660)"/>
    <wire from="(360,450)" to="(380,450)"/>
    <wire from="(1660,480)" to="(1670,480)"/>
    <wire from="(1690,500)" to="(1710,500)"/>
    <wire from="(1500,440)" to="(1980,440)"/>
    <wire from="(560,340)" to="(570,340)"/>
    <wire from="(570,360)" to="(570,370)"/>
    <wire from="(1570,80)" to="(1570,100)"/>
    <wire from="(870,460)" to="(870,720)"/>
    <wire from="(370,150)" to="(480,150)"/>
    <wire from="(2660,230)" to="(2740,230)"/>
    <wire from="(1090,720)" to="(1090,730)"/>
    <wire from="(2050,440)" to="(2240,440)"/>
    <wire from="(160,530)" to="(190,530)"/>
    <wire from="(1490,440)" to="(1500,440)"/>
    <wire from="(1460,410)" to="(1470,410)"/>
    <wire from="(1330,440)" to="(1340,440)"/>
    <wire from="(3260,490)" to="(3260,510)"/>
    <wire from="(640,390)" to="(980,390)"/>
    <wire from="(1250,460)" to="(1250,640)"/>
    <wire from="(350,730)" to="(370,730)"/>
    <wire from="(3000,420)" to="(3000,490)"/>
    <wire from="(1720,830)" to="(1730,830)"/>
    <wire from="(2460,810)" to="(2460,820)"/>
    <wire from="(160,550)" to="(170,550)"/>
    <wire from="(1700,790)" to="(1730,790)"/>
    <wire from="(3190,740)" to="(3190,750)"/>
    <wire from="(2360,360)" to="(2590,360)"/>
    <wire from="(1230,680)" to="(1980,680)"/>
    <wire from="(570,330)" to="(570,340)"/>
    <wire from="(490,490)" to="(540,490)"/>
    <wire from="(1470,270)" to="(1570,270)"/>
    <wire from="(2050,200)" to="(2160,200)"/>
    <wire from="(770,600)" to="(830,600)"/>
    <wire from="(2360,520)" to="(2360,570)"/>
    <wire from="(370,130)" to="(370,150)"/>
    <wire from="(1470,160)" to="(1980,160)"/>
    <wire from="(2250,530)" to="(2260,530)"/>
    <wire from="(370,120)" to="(480,120)"/>
    <wire from="(1090,690)" to="(1090,700)"/>
    <wire from="(1240,660)" to="(1360,660)"/>
    <wire from="(1450,410)" to="(1450,420)"/>
    <wire from="(2350,540)" to="(2350,610)"/>
    <wire from="(2360,360)" to="(2360,370)"/>
    <wire from="(1910,830)" to="(1920,830)"/>
    <wire from="(160,510)" to="(180,510)"/>
    <wire from="(1650,410)" to="(1660,410)"/>
    <wire from="(3010,530)" to="(3010,560)"/>
    <wire from="(3220,740)" to="(3220,750)"/>
    <wire from="(1510,560)" to="(1980,560)"/>
    <wire from="(1330,420)" to="(1330,440)"/>
    <wire from="(810,520)" to="(930,520)"/>
    <wire from="(1690,660)" to="(1980,660)"/>
    <wire from="(1710,480)" to="(1810,480)"/>
    <wire from="(170,540)" to="(170,550)"/>
    <wire from="(540,490)" to="(540,620)"/>
    <wire from="(2050,360)" to="(2360,360)"/>
    <wire from="(2220,470)" to="(2230,470)"/>
    <wire from="(370,90)" to="(480,90)"/>
    <wire from="(1470,320)" to="(1520,320)"/>
    <wire from="(1250,640)" to="(1370,640)"/>
    <wire from="(1810,420)" to="(1810,480)"/>
    <wire from="(3240,340)" to="(3280,340)"/>
    <wire from="(850,440)" to="(1260,440)"/>
    <wire from="(510,350)" to="(530,350)"/>
    <wire from="(2310,520)" to="(2360,520)"/>
    <wire from="(2410,700)" to="(2410,710)"/>
    <wire from="(1610,120)" to="(1610,290)"/>
    <wire from="(2310,440)" to="(2310,460)"/>
    <wire from="(940,630)" to="(950,630)"/>
    <wire from="(2050,640)" to="(2270,640)"/>
    <wire from="(2420,640)" to="(2460,640)"/>
    <wire from="(2360,490)" to="(2360,520)"/>
    <wire from="(1910,790)" to="(2260,790)"/>
    <wire from="(2260,780)" to="(2290,780)"/>
    <wire from="(1320,530)" to="(1320,870)"/>
    <wire from="(860,480)" to="(1240,480)"/>
    <wire from="(1660,400)" to="(1660,410)"/>
    <wire from="(810,440)" to="(850,440)"/>
    <wire from="(150,330)" to="(150,350)"/>
    <wire from="(370,60)" to="(480,60)"/>
    <wire from="(2360,490)" to="(2430,490)"/>
    <wire from="(360,470)" to="(400,470)"/>
    <wire from="(3240,490)" to="(3260,490)"/>
    <wire from="(3260,510)" to="(3280,510)"/>
    <wire from="(130,90)" to="(160,90)"/>
    <wire from="(2860,660)" to="(3170,660)"/>
    <wire from="(2740,660)" to="(2860,660)"/>
    <wire from="(2720,500)" to="(2720,510)"/>
    <wire from="(1090,750)" to="(1100,750)"/>
    <wire from="(2260,520)" to="(2260,530)"/>
    <wire from="(1720,740)" to="(1730,740)"/>
    <wire from="(2660,510)" to="(2720,510)"/>
    <wire from="(2140,560)" to="(2140,580)"/>
    <wire from="(3290,660)" to="(3350,660)"/>
    <wire from="(3310,520)" to="(3370,520)"/>
    <wire from="(540,490)" to="(680,490)"/>
    <wire from="(400,290)" to="(400,410)"/>
    <wire from="(1280,290)" to="(1300,290)"/>
    <wire from="(1690,810)" to="(1730,810)"/>
    <wire from="(870,460)" to="(1250,460)"/>
    <wire from="(440,750)" to="(440,760)"/>
    <wire from="(270,580)" to="(270,590)"/>
    <wire from="(2270,770)" to="(2290,770)"/>
    <wire from="(370,40)" to="(370,60)"/>
    <wire from="(1470,230)" to="(1980,230)"/>
    <wire from="(370,30)" to="(480,30)"/>
    <wire from="(1380,570)" to="(1380,580)"/>
    <wire from="(160,90)" to="(190,90)"/>
    <wire from="(2860,610)" to="(2860,620)"/>
    <wire from="(2490,630)" to="(2550,630)"/>
    <wire from="(1270,260)" to="(1280,260)"/>
    <wire from="(2230,460)" to="(2230,470)"/>
    <wire from="(3260,530)" to="(3260,560)"/>
    <wire from="(2310,440)" to="(2480,440)"/>
    <wire from="(1650,470)" to="(1670,470)"/>
    <wire from="(2350,610)" to="(2350,700)"/>
    <wire from="(3000,490)" to="(3170,490)"/>
    <wire from="(860,730)" to="(920,730)"/>
    <wire from="(470,750)" to="(470,760)"/>
    <wire from="(1720,720)" to="(1720,740)"/>
    <wire from="(2260,480)" to="(2340,480)"/>
    <wire from="(2450,770)" to="(2460,770)"/>
    <wire from="(1470,360)" to="(1980,360)"/>
    <wire from="(1470,200)" to="(1980,200)"/>
    <wire from="(1540,820)" to="(1550,820)"/>
    <wire from="(1090,690)" to="(1100,690)"/>
    <wire from="(2260,780)" to="(2260,790)"/>
    <wire from="(930,520)" to="(1280,520)"/>
    <wire from="(2720,510)" to="(2780,510)"/>
    <wire from="(1660,460)" to="(1670,460)"/>
    <wire from="(1330,280)" to="(1350,280)"/>
    <wire from="(570,330)" to="(580,330)"/>
    <wire from="(870,720)" to="(920,720)"/>
    <wire from="(130,130)" to="(190,130)"/>
    <wire from="(2140,580)" to="(2160,580)"/>
    <wire from="(330,580)" to="(330,590)"/>
    <wire from="(1020,400)" to="(1060,400)"/>
    <wire from="(380,240)" to="(380,450)"/>
    <wire from="(3240,560)" to="(3260,560)"/>
    <wire from="(3010,560)" to="(3090,560)"/>
    <wire from="(930,410)" to="(930,520)"/>
    <wire from="(350,710)" to="(370,710)"/>
    <wire from="(360,240)" to="(380,240)"/>
    <wire from="(490,370)" to="(510,370)"/>
    <wire from="(1810,420)" to="(1820,420)"/>
    <wire from="(2500,510)" to="(2500,530)"/>
    <wire from="(3290,660)" to="(3290,670)"/>
    <wire from="(2260,750)" to="(2260,780)"/>
    <wire from="(1880,500)" to="(1980,500)"/>
    <wire from="(850,430)" to="(850,440)"/>
    <wire from="(370,490)" to="(370,620)"/>
    <wire from="(810,460)" to="(870,460)"/>
    <wire from="(1880,500)" to="(1880,520)"/>
    <wire from="(2050,180)" to="(2160,180)"/>
    <wire from="(2780,420)" to="(3000,420)"/>
    <wire from="(1500,520)" to="(1880,520)"/>
    <wire from="(2260,520)" to="(2270,520)"/>
    <wire from="(1050,630)" to="(1050,640)"/>
    <wire from="(1090,790)" to="(1100,790)"/>
    <wire from="(1080,780)" to="(1090,780)"/>
    <wire from="(2950,450)" to="(2950,460)"/>
    <wire from="(400,410)" to="(420,410)"/>
    <wire from="(1300,880)" to="(3350,880)"/>
    <wire from="(1910,810)" to="(1920,810)"/>
    <wire from="(2460,760)" to="(2460,770)"/>
    <wire from="(1660,400)" to="(1670,400)"/>
    <wire from="(2050,660)" to="(2260,660)"/>
    <wire from="(180,520)" to="(190,520)"/>
    <wire from="(1690,420)" to="(1710,420)"/>
    <wire from="(1320,530)" to="(1340,530)"/>
    <wire from="(2050,340)" to="(2590,340)"/>
    <wire from="(1080,770)" to="(1100,770)"/>
    <wire from="(410,180)" to="(480,180)"/>
    <wire from="(3240,660)" to="(3290,660)"/>
    <wire from="(1690,660)" to="(1690,810)"/>
    <wire from="(2000,750)" to="(2000,760)"/>
    <wire from="(2230,460)" to="(2240,460)"/>
    <wire from="(2660,630)" to="(2740,630)"/>
    <wire from="(2890,360)" to="(2890,370)"/>
    <wire from="(1270,300)" to="(1280,300)"/>
    <wire from="(410,20)" to="(410,180)"/>
    <wire from="(1860,410)" to="(1870,410)"/>
    <wire from="(2660,340)" to="(3170,340)"/>
    <wire from="(1320,870)" to="(3370,870)"/>
    <wire from="(830,540)" to="(830,600)"/>
    <wire from="(1270,280)" to="(1300,280)"/>
    <wire from="(1260,340)" to="(1350,340)"/>
    <comp loc="(950,640)" name="BRANCH_FORWARDING_UNIT"/>
    <comp lib="0" loc="(1550,800)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="ID/EX.RT"/>
    </comp>
    <comp lib="0" loc="(1720,830)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="BRANCH"/>
    </comp>
    <comp lib="0" loc="(2360,370)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="ID/EX.REG_WRITE"/>
    </comp>
    <comp lib="0" loc="(940,620)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="width" val="2"/>
      <a name="label" val="Branch_FWD_A"/>
    </comp>
    <comp loc="(2980,530)" name="MEM"/>
    <comp lib="0" loc="(340,140)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="24"/>
      <a name="label" val="432"/>
    </comp>
    <comp lib="0" loc="(770,600)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="Jump_Address"/>
    </comp>
    <comp lib="0" loc="(2370,610)" name="Probe">
      <a name="facing" val="west"/>
    </comp>
    <comp lib="1" loc="(400,720)" name="OR Gate">
      <a name="size" val="30"/>
      <a name="inputs" val="2"/>
    </comp>
    <comp lib="0" loc="(3090,540)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="width" val="8"/>
      <a name="label" val="EX/MEM.MemRegData"/>
    </comp>
    <comp lib="0" loc="(3220,750)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(1650,490)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="EX/MEM.AluRegData"/>
    </comp>
    <comp lib="0" loc="(580,350)" name="Tunnel">
      <a name="label" val="Load_Use_Stall"/>
    </comp>
    <comp lib="1" loc="(1700,110)" name="OR Gate">
      <a name="size" val="30"/>
      <a name="inputs" val="2"/>
    </comp>
    <comp lib="0" loc="(1920,830)" name="Tunnel">
      <a name="label" val="ID/EX.MEM_READ"/>
    </comp>
    <comp lib="0" loc="(2850,450)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="EX/MEM.MEM_READ"/>
    </comp>
    <comp lib="0" loc="(130,130)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="RESET"/>
    </comp>
    <comp lib="0" loc="(1730,110)" name="Tunnel">
      <a name="label" val="BRANCH"/>
    </comp>
    <comp loc="(2660,230)" name="EX/MEM"/>
    <comp lib="6" loc="(2386,142)" name="Text">
      <a name="text" val="EX STAGE"/>
      <a name="font" val="SansSerif bold 20"/>
    </comp>
    <comp lib="2" loc="(260,300)" name="Multiplexer">
      <a name="facing" val="west"/>
      <a name="width" val="8"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="0" loc="(1060,620)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="Branch_FWD_Stall"/>
    </comp>
    <comp lib="0" loc="(2320,610)" name="Probe"/>
    <comp lib="0" loc="(440,760)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(350,730)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="JUMP_PC_SRC"/>
    </comp>
    <comp lib="0" loc="(3190,750)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(150,350)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="JUMP_PC_SRC"/>
    </comp>
    <comp lib="0" loc="(1710,420)" name="Tunnel">
      <a name="width" val="2"/>
      <a name="label" val="Branch_FWD_A"/>
    </comp>
    <comp lib="0" loc="(160,550)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="Branch_Load_Use_Stall"/>
    </comp>
    <comp lib="2" loc="(2310,520)" name="Multiplexer">
      <a name="select" val="2"/>
      <a name="width" val="8"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="0" loc="(340,370)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="width" val="8"/>
      <a name="label" val="Branch_PC"/>
    </comp>
    <comp lib="0" loc="(2550,640)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="width" val="4"/>
      <a name="label" val="ID/EX.RD"/>
    </comp>
    <comp lib="0" loc="(190,90)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="CLK"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(1270,260)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="Branch_FWD_Stall"/>
    </comp>
    <comp lib="0" loc="(2500,530)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="width" val="3"/>
      <a name="label" val="ALU_OP"/>
    </comp>
    <comp lib="0" loc="(350,710)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="BRANCH_PC_SRC"/>
    </comp>
    <comp lib="0" loc="(1470,410)" name="Tunnel">
      <a name="width" val="24"/>
      <a name="label" val="10S"/>
    </comp>
    <comp lib="0" loc="(330,590)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(2740,230)" name="Tunnel">
      <a name="label" val="EX/MEM.MEM_READ"/>
    </comp>
    <comp loc="(360,490)" name="IF"/>
    <comp lib="0" loc="(2470,780)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="MEM/WB.RD"/>
    </comp>
    <comp lib="0" loc="(470,760)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(1380,580)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(1720,720)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="2" loc="(3310,520)" name="Multiplexer">
      <a name="width" val="8"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="0" loc="(3290,670)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="width" val="4"/>
      <a name="label" val="MEM/WB.RD"/>
    </comp>
    <comp lib="0" loc="(340,50)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="24"/>
      <a name="label" val="10S"/>
    </comp>
    <comp lib="0" loc="(2860,620)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(2250,530)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="EX/MEM.AluRegData"/>
    </comp>
    <comp loc="(810,440)" name="ID"/>
    <comp lib="0" loc="(1920,810)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="EX/MEM.RD"/>
    </comp>
    <comp lib="0" loc="(3280,360)" name="Tunnel">
      <a name="label" val="MEM/WB.REG_WRITE"/>
    </comp>
    <comp lib="0" loc="(3280,340)" name="Tunnel">
      <a name="label" val="MEM_TO_REG"/>
    </comp>
    <comp lib="6" loc="(1129,161)" name="Text">
      <a name="text" val="ID STAGE"/>
      <a name="font" val="SansSerif bold 20"/>
    </comp>
    <comp lib="0" loc="(2250,510)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="MEM/WB.RegData"/>
    </comp>
    <comp lib="1" loc="(530,350)" name="OR Gate">
      <a name="facing" val="west"/>
      <a name="size" val="30"/>
      <a name="inputs" val="3"/>
    </comp>
    <comp lib="0" loc="(480,30)" name="Probe">
      <a name="facing" val="west"/>
      <a name="radix" val="10signed"/>
      <a name="label" val="$t0"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(2470,660)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="REG_DEST"/>
    </comp>
    <comp loc="(2340,710)" name="FORWARDING_UNIT"/>
    <comp lib="0" loc="(3310,570)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="MEM_TO_REG"/>
    </comp>
    <comp lib="3" loc="(1860,410)" name="Comparator"/>
    <comp lib="2" loc="(130,310)" name="Multiplexer">
      <a name="facing" val="west"/>
      <a name="width" val="8"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="0" loc="(280,340)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="BRANCH_PC_SRC"/>
    </comp>
    <comp lib="0" loc="(2860,670)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="width" val="4"/>
      <a name="label" val="EX/MEM.RD"/>
    </comp>
    <comp lib="0" loc="(2740,250)" name="Tunnel">
      <a name="label" val="MEM_WRITE"/>
    </comp>
    <comp lib="0" loc="(2940,620)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(1870,720)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="Branch_Load_Use_Stall"/>
    </comp>
    <comp lib="7" loc="(2510,470)" name="ALU-8 by ART"/>
    <comp lib="0" loc="(190,130)" name="Tunnel">
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(1650,390)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="MEM/WB.RegData"/>
    </comp>
    <comp lib="0" loc="(160,510)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="Branch_FWD_Stall"/>
    </comp>
    <comp lib="2" loc="(2280,460)" name="Multiplexer">
      <a name="select" val="2"/>
      <a name="width" val="8"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="0" loc="(1000,590)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="width" val="2"/>
      <a name="label" val="Branch_FWD_B"/>
    </comp>
    <comp lib="0" loc="(2160,200)" name="Tunnel">
      <a name="label" val="REG_DEST"/>
    </comp>
    <comp lib="0" loc="(480,60)" name="Probe">
      <a name="facing" val="west"/>
      <a name="radix" val="10signed"/>
      <a name="label" val="$t1"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(370,620)" name="Probe">
      <a name="facing" val="north"/>
    </comp>
    <comp lib="0" loc="(350,140)" name="Splitter">
      <a name="fanout" val="3"/>
      <a name="incoming" val="24"/>
      <a name="bit1" val="0"/>
      <a name="bit2" val="0"/>
      <a name="bit3" val="0"/>
      <a name="bit4" val="0"/>
      <a name="bit5" val="0"/>
      <a name="bit6" val="0"/>
      <a name="bit7" val="0"/>
      <a name="bit8" val="1"/>
      <a name="bit9" val="1"/>
      <a name="bit10" val="1"/>
      <a name="bit11" val="1"/>
      <a name="bit12" val="1"/>
      <a name="bit13" val="1"/>
      <a name="bit14" val="1"/>
      <a name="bit15" val="1"/>
      <a name="bit16" val="2"/>
      <a name="bit17" val="2"/>
      <a name="bit18" val="2"/>
      <a name="bit19" val="2"/>
      <a name="bit20" val="2"/>
      <a name="bit21" val="2"/>
      <a name="bit22" val="2"/>
      <a name="bit23" val="2"/>
    </comp>
    <comp lib="6" loc="(225,204)" name="Text">
      <a name="text" val="IF STAGE"/>
      <a name="font" val="SansSerif bold 20"/>
    </comp>
    <comp lib="0" loc="(1710,500)" name="Tunnel">
      <a name="width" val="2"/>
      <a name="label" val="Branch_FWD_B"/>
    </comp>
    <comp lib="0" loc="(540,620)" name="Probe">
      <a name="facing" val="north"/>
    </comp>
    <comp lib="0" loc="(580,370)" name="Tunnel">
      <a name="label" val="Branch_Load_Use_Stall"/>
    </comp>
    <comp lib="0" loc="(480,220)" name="Probe">
      <a name="facing" val="west"/>
      <a name="radix" val="10unsigned"/>
      <a name="label" val="PC"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(1840,280)" name="Tunnel">
      <a name="label" val="BRANCH_PC_SRC"/>
    </comp>
    <comp lib="0" loc="(1920,850)" name="Tunnel">
      <a name="label" val="EX/MEM.MEM_READ"/>
    </comp>
    <comp lib="0" loc="(2950,450)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="MEM_WRITE"/>
    </comp>
    <comp lib="0" loc="(1100,730)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="MEM/WB.RD"/>
    </comp>
    <comp lib="0" loc="(1100,710)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="EX/MEM.RD"/>
    </comp>
    <comp lib="0" loc="(2470,820)" name="Tunnel">
      <a name="label" val="MEM/WB.REG_WRITE"/>
    </comp>
    <comp lib="0" loc="(2160,160)" name="Tunnel">
      <a name="width" val="3"/>
      <a name="label" val="ALU_OP"/>
    </comp>
    <comp lib="0" loc="(1100,750)" name="Tunnel">
      <a name="label" val="ID/EX.REG_WRITE"/>
    </comp>
    <comp loc="(1540,800)" name="LOAD_USE_HAZARD"/>
    <comp loc="(1470,160)" name="CNTRL"/>
    <comp lib="0" loc="(1060,400)" name="Tunnel">
      <a name="width" val="8"/>
      <a name="label" val="Branch_PC"/>
    </comp>
    <comp lib="0" loc="(2160,180)" name="Tunnel">
      <a name="label" val="ALU_SRC"/>
    </comp>
    <comp lib="0" loc="(2220,450)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="MEM/WB.RegData"/>
    </comp>
    <comp lib="0" loc="(2160,580)" name="Tunnel">
      <a name="width" val="8"/>
      <a name="label" val="ID/EX.IMM"/>
    </comp>
    <comp lib="0" loc="(1650,470)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="MEM/WB.RegData"/>
    </comp>
    <comp lib="0" loc="(1520,320)" name="Tunnel">
      <a name="label" val="JUMP_PC_SRC"/>
    </comp>
    <comp lib="0" loc="(3370,500)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="width" val="8"/>
      <a name="label" val="MEM/WB.RegData"/>
    </comp>
    <comp lib="2" loc="(1710,480)" name="Multiplexer">
      <a name="select" val="2"/>
      <a name="width" val="8"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="0" loc="(2640,700)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp loc="(490,490)" name="IF/ID"/>
    <comp lib="0" loc="(1550,820)" name="Tunnel">
      <a name="label" val="ID/EX.MEM_READ"/>
    </comp>
    <comp loc="(1910,790)" name="BRANCH_LOAD_USE_HAZARD"/>
    <comp lib="0" loc="(1430,580)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="2" loc="(1710,400)" name="Multiplexer">
      <a name="select" val="2"/>
      <a name="width" val="8"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="0" loc="(1270,280)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="Load_Use_Stall"/>
    </comp>
    <comp lib="0" loc="(170,320)" name="Tunnel">
      <a name="width" val="8"/>
      <a name="label" val="Jump_Address"/>
    </comp>
    <comp lib="3" loc="(1020,400)" name="Adder"/>
    <comp lib="0" loc="(2430,510)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="ID/EX.IMM"/>
    </comp>
    <comp loc="(2050,230)" name="ID/EX"/>
    <comp lib="0" loc="(1510,720)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="Load_Use_Stall"/>
    </comp>
    <comp lib="0" loc="(350,50)" name="Splitter">
      <a name="fanout" val="3"/>
      <a name="incoming" val="24"/>
      <a name="bit1" val="0"/>
      <a name="bit2" val="0"/>
      <a name="bit3" val="0"/>
      <a name="bit4" val="0"/>
      <a name="bit5" val="0"/>
      <a name="bit6" val="0"/>
      <a name="bit7" val="0"/>
      <a name="bit8" val="1"/>
      <a name="bit9" val="1"/>
      <a name="bit10" val="1"/>
      <a name="bit11" val="1"/>
      <a name="bit12" val="1"/>
      <a name="bit13" val="1"/>
      <a name="bit14" val="1"/>
      <a name="bit15" val="1"/>
      <a name="bit16" val="2"/>
      <a name="bit17" val="2"/>
      <a name="bit18" val="2"/>
      <a name="bit19" val="2"/>
      <a name="bit20" val="2"/>
      <a name="bit21" val="2"/>
      <a name="bit22" val="2"/>
      <a name="bit23" val="2"/>
    </comp>
    <comp lib="0" loc="(2220,470)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="EX/MEM.AluRegData"/>
    </comp>
    <comp lib="0" loc="(480,180)" name="Probe">
      <a name="facing" val="west"/>
      <a name="radix" val="10unsigned"/>
      <a name="label" val="$sp"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(1650,410)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="EX/MEM.AluRegData"/>
    </comp>
    <comp lib="0" loc="(850,430)" name="Probe">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(2240,750)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="ID/EX.RT"/>
    </comp>
    <comp lib="0" loc="(1570,80)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="BNEQ"/>
    </comp>
    <comp lib="0" loc="(360,240)" name="Pin">
      <a name="output" val="true"/>
      <a name="width" val="8"/>
      <a name="label" val="PC"/>
    </comp>
    <comp lib="0" loc="(2030,760)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="1" loc="(220,530)" name="OR Gate">
      <a name="size" val="30"/>
      <a name="inputs" val="3"/>
    </comp>
    <comp lib="0" loc="(160,70)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="2" loc="(1790,280)" name="Multiplexer">
      <a name="enable" val="false"/>
    </comp>
    <comp lib="0" loc="(1610,80)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="BEQ"/>
    </comp>
    <comp lib="0" loc="(480,90)" name="Probe">
      <a name="facing" val="west"/>
      <a name="radix" val="10signed"/>
      <a name="label" val="$t2"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(2890,370)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="EX/MEM.REG_WRITE"/>
    </comp>
    <comp lib="0" loc="(130,90)" name="Clock">
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(2470,800)" name="Tunnel">
      <a name="label" val="EX/MEM.REG_WRITE"/>
    </comp>
    <comp lib="0" loc="(1100,790)" name="Tunnel">
      <a name="label" val="MEM/WB.REG_WRITE"/>
    </comp>
    <comp lib="0" loc="(2720,500)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="width" val="8"/>
      <a name="label" val="EX/MEM.AluRegData"/>
    </comp>
    <comp lib="0" loc="(1330,420)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="MEM/WB.REG_WRITE"/>
    </comp>
    <comp lib="0" loc="(910,750)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="BRANCH"/>
    </comp>
    <comp lib="1" loc="(1330,280)" name="OR Gate">
      <a name="size" val="30"/>
      <a name="inputs" val="3"/>
    </comp>
    <comp lib="6" loc="(2926,132)" name="Text">
      <a name="text" val="MEM STAGE"/>
      <a name="font" val="SansSerif bold 20"/>
    </comp>
    <comp lib="0" loc="(1440,410)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="24"/>
      <a name="label" val="432"/>
    </comp>
    <comp lib="0" loc="(160,530)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="Load_Use_Stall"/>
    </comp>
    <comp lib="0" loc="(270,590)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(2610,700)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(480,150)" name="Probe">
      <a name="facing" val="west"/>
      <a name="radix" val="10signed"/>
      <a name="label" val="$t4"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(480,120)" name="Probe">
      <a name="facing" val="west"/>
      <a name="radix" val="10signed"/>
      <a name="label" val="$t3"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(2380,210)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="ID/EX.MEM_READ"/>
    </comp>
    <comp lib="2" loc="(2460,500)" name="Multiplexer">
      <a name="width" val="8"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="0" loc="(2470,760)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="EX/MEM.RD"/>
    </comp>
    <comp lib="0" loc="(1270,300)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="Branch_Load_Use_Stall"/>
    </comp>
    <comp lib="6" loc="(832,68)" name="Text">
      <a name="text" val="FULL CAPITAL NAME -----&gt; Control Flags"/>
      <a name="font" val="SansSerif bold 14"/>
    </comp>
    <comp lib="6" loc="(3390,145)" name="Text">
      <a name="text" val="WB STAGE"/>
      <a name="font" val="SansSerif bold 20"/>
    </comp>
    <comp lib="0" loc="(1100,770)" name="Tunnel">
      <a name="label" val="EX/MEM.REG_WRITE"/>
    </comp>
    <comp lib="0" loc="(1100,690)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="ID/EX.RD"/>
    </comp>
    <comp lib="2" loc="(2490,630)" name="Multiplexer">
      <a name="width" val="4"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="0" loc="(2440,530)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="ALU_SRC"/>
    </comp>
    <comp lib="0" loc="(2000,760)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp loc="(1470,470)" name="REG_FILE_EXTENDED"/>
    <comp lib="0" loc="(580,330)" name="Tunnel">
      <a name="label" val="Branch_FWD_Stall"/>
    </comp>
    <comp loc="(3240,340)" name="MEM/WB"/>
  </circuit>
  <circuit name="IF">
    <a name="circuit" val="IF"/>
    <a name="clabel" val=""/>
    <a name="clabelup" val="east"/>
    <a name="clabelfont" val="SansSerif plain 12"/>
    <appear>
      <path d="M82,40 Q108,60 132,40" fill="none" stroke="#808080" stroke-width="2"/>
      <text font-family="SansSerif" font-size="16" font-weight="bold" text-anchor="middle" x="112" y="77">IF</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="80" y="207">CLK</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="141" y="94">Read PC</text>
      <polyline fill="none" points="71,219 80,210 90,220" stroke="#000000"/>
      <rect fill="none" height="180" stroke="#000000" stroke-width="2" width="120" x="50" y="40"/>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="140" y="211">CLR</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="70" y="128">Write</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="134" y="133">Instruction</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="70" y="139">PC</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="144" y="114">PC + 1</text>
      <text font-family="SansSerif" font-size="12" font-weight="bold" text-anchor="middle" x="68" y="174">Stall</text>
      <circ-port height="8" pin="210,190" width="8" x="46" y="126"/>
      <circ-port height="8" pin="190,290" width="8" x="76" y="216"/>
      <circ-port height="8" pin="190,340" width="8" x="136" y="216"/>
      <circ-port height="10" pin="480,40" width="10" x="165" y="85"/>
      <circ-port height="10" pin="580,190" width="10" x="165" y="125"/>
      <circ-port height="10" pin="480,100" width="10" x="165" y="105"/>
      <circ-port height="8" pin="190,240" width="8" x="46" y="166"/>
      <circ-anchor facing="east" height="6" width="6" x="167" y="127"/>
    </appear>
    <wire from="(330,90)" to="(330,190)"/>
    <wire from="(190,290)" to="(280,290)"/>
    <wire from="(300,190)" to="(330,190)"/>
    <wire from="(290,210)" to="(290,340)"/>
    <wire from="(210,190)" to="(270,190)"/>
    <wire from="(330,190)" to="(360,190)"/>
    <wire from="(380,110)" to="(400,110)"/>
    <wire from="(250,200)" to="(250,240)"/>
    <wire from="(410,230)" to="(410,240)"/>
    <wire from="(250,200)" to="(270,200)"/>
    <wire from="(330,40)" to="(480,40)"/>
    <wire from="(190,240)" to="(210,240)"/>
    <wire from="(280,210)" to="(280,290)"/>
    <wire from="(240,240)" to="(250,240)"/>
    <wire from="(330,40)" to="(330,90)"/>
    <wire from="(500,190)" to="(580,190)"/>
    <wire from="(440,100)" to="(480,100)"/>
    <wire from="(330,90)" to="(400,90)"/>
    <wire from="(190,340)" to="(290,340)"/>
    <comp lib="0" loc="(480,40)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="8"/>
      <a name="label" val="PC Read"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(190,290)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(210,190)" name="Pin">
      <a name="width" val="8"/>
      <a name="tristate" val="false"/>
      <a name="label" val="PC Write"/>
    </comp>
    <comp lib="0" loc="(410,240)" name="Constant">
      <a name="facing" val="north"/>
    </comp>
    <comp lib="3" loc="(440,100)" name="Adder"/>
    <comp lib="4" loc="(300,190)" name="Register"/>
    <comp lib="0" loc="(380,110)" name="Constant">
      <a name="width" val="8"/>
    </comp>
    <comp lib="4" loc="(500,190)" name="ROM">
      <a name="dataWidth" val="20"/>
      <a name="contents">addr/data: 8 20
a0ff0 a06ef f7400 f0500 f2300 dfd0f dfe0f 2dd1f
2ee0f a0b04 a0c00 8fc0d a0400 a4306 a0507 a0107
84500 84101 a0508 a0107 84502 84103 a0509 a0107
84504 84105 a050a a0107 84506 84107 a0703 a0804
a0907 a0a01 f0400 8fd00 8fe01 8f002 a4500 f6b00
8f003 a0200 df204 22207 d3500 d3101 a0703 a0804
7722a 7822d 79230 7a233 77b26 78b29 79b2c 7ab2f
a3302 2337f 2551f 2110f 83500 83101 a4200 f4400
7d50e a4402 2447f f2300 d2700 d2801 77504 a2202
2227f 532fa f4000 78101 f4700 fdc00 f0500 5e1f1
acc01 8fc0d dfd0f dfe0f 2dd1f 2ee0f 9c23c 22280
502ea fef00 f0500 79b07 a11ff c07b0 f3800 7ab07
a5501 c08b0 f3800 77bf7 a1101 c09b0 f3800 78bf7
a55ff c0ab0 f3800 d5100 d5201 8f100 8f201 8f002
735b7 a5502 2557f f6b00 a0120 a020a a0553 8f505
a056e 8f505 a0561 8f505 a056b 8f505 a0565 8f505
8f105 a0547 8f505 a0561 8f505 a056d 8f505 a0565
8f505 8f205 a0555 8f505 a0573 8f505 a0565 8f505
8f105 a0550 8f505 a056f 8f505 a056b 8f505 a0565
8f505 8f105 a0554 8f505 a056f 8f505 a056f 8f505
a056c 8f505 8f105 a056f 8f505 a056e 8f505 8f105
a056b 8f505 a0565 8f505 a0579 8f505 a0562 8f505
a056f 8f505 a0561 8f505 a0572 8f505 a0564 8f505
8f205 a0574 8f505 a056f 8f505 8f105 a0570 8f505
a056c 8f505 a0561 8f505 a0579 8f505 8f105 a0528
8f505 a0575 8f505 a0573 8f505 a0565 8f505 8f105
a0557 8f505 a0541 8f505 a0553 8f505 a0544 8f505
a0529 8f505 8f205 f0300 a0559 8f505 a056f 8f505
a0575 8f505 a0520 8f505 a054c 8f505 a056f 8f505
a0573 8f505 a0574 8f505 a050a 8f505 f4e00 a0559
8f505 a056f 8f505 a0575 8f505 a0520 8f505 a0557
8f505 a056f 8f505 a056e 8f505 a050a 8f505 f5a00
</a>
    </comp>
    <comp lib="0" loc="(190,340)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="RESET"/>
    </comp>
    <comp lib="1" loc="(240,240)" name="NOT Gate"/>
    <comp lib="0" loc="(420,80)" name="Constant">
      <a name="facing" val="south"/>
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="0" loc="(580,190)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="20"/>
      <a name="label" val="Instruction"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(190,240)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="Stall"/>
    </comp>
    <comp lib="0" loc="(480,100)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="8"/>
      <a name="label" val="PC + 1"/>
      <a name="labelloc" val="east"/>
    </comp>
  </circuit>
  <circuit name="ID">
    <a name="circuit" val="ID"/>
    <a name="clabel" val=""/>
    <a name="clabelup" val="east"/>
    <a name="clabelfont" val="SansSerif plain 12"/>
    <appear>
      <path d="M86,41 Q113,58 139,40" fill="none" stroke="#808080" stroke-width="2"/>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="156" y="144">Dest-1</text>
      <text font-family="SansSerif" font-size="16" font-weight="bold" text-anchor="middle" x="115" y="73">ID</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="151" y="84">OpCode</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="159" y="105">Src-1</text>
      <rect fill="none" height="180" stroke="#000000" stroke-width="2" width="130" x="50" y="40"/>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="146" y="184">JmpAddr</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="159" y="163">Imm</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="159" y="124">Src-2</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="82" y="133">Instruction</text>
      <circ-port height="8" pin="400,240" width="8" x="46" y="126"/>
      <circ-port height="10" pin="590,180" width="10" x="175" y="75"/>
      <circ-port height="10" pin="590,210" width="10" x="175" y="95"/>
      <circ-port height="10" pin="590,240" width="10" x="175" y="115"/>
      <circ-port height="10" pin="590,270" width="10" x="175" y="135"/>
      <circ-port height="10" pin="590,330" width="10" x="175" y="155"/>
      <circ-port height="10" pin="590,360" width="10" x="175" y="175"/>
      <circ-anchor facing="east" height="6" width="6" x="177" y="77"/>
    </appear>
    <wire from="(400,240)" to="(490,240)"/>
    <wire from="(570,260)" to="(570,300)"/>
    <wire from="(570,180)" to="(570,220)"/>
    <wire from="(510,220)" to="(570,220)"/>
    <wire from="(550,260)" to="(570,260)"/>
    <wire from="(570,180)" to="(590,180)"/>
    <wire from="(570,300)" to="(590,300)"/>
    <wire from="(510,250)" to="(540,250)"/>
    <wire from="(540,360)" to="(590,360)"/>
    <wire from="(520,230)" to="(520,340)"/>
    <wire from="(560,330)" to="(590,330)"/>
    <wire from="(510,240)" to="(530,240)"/>
    <wire from="(530,240)" to="(590,240)"/>
    <wire from="(520,230)" to="(580,230)"/>
    <wire from="(530,240)" to="(530,340)"/>
    <wire from="(540,250)" to="(580,250)"/>
    <wire from="(510,230)" to="(520,230)"/>
    <wire from="(540,250)" to="(540,310)"/>
    <wire from="(550,260)" to="(550,310)"/>
    <wire from="(580,250)" to="(580,270)"/>
    <wire from="(580,210)" to="(580,230)"/>
    <wire from="(580,210)" to="(590,210)"/>
    <wire from="(580,270)" to="(590,270)"/>
    <wire from="(510,260)" to="(550,260)"/>
    <comp lib="0" loc="(590,180)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="4"/>
      <a name="label" val="Opcode"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(590,360)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="8"/>
      <a name="label" val="Jump Addr"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(560,330)" name="Splitter">
      <a name="facing" val="north"/>
      <a name="incoming" val="8"/>
      <a name="bit1" val="0"/>
      <a name="bit2" val="0"/>
      <a name="bit3" val="0"/>
      <a name="bit4" val="1"/>
      <a name="bit5" val="1"/>
      <a name="bit6" val="1"/>
      <a name="bit7" val="1"/>
    </comp>
    <comp lib="6" loc="(629,304)" name="Text">
      <a name="text" val="Shift Amt"/>
      <a name="font" val="SansSerif bold 14"/>
    </comp>
    <comp lib="0" loc="(590,210)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="4"/>
      <a name="label" val="Src 1"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(590,330)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="8"/>
      <a name="label" val="Addr / Immd"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(540,360)" name="Splitter">
      <a name="facing" val="north"/>
      <a name="incoming" val="8"/>
      <a name="bit1" val="0"/>
      <a name="bit2" val="0"/>
      <a name="bit3" val="0"/>
      <a name="bit4" val="1"/>
      <a name="bit5" val="1"/>
      <a name="bit6" val="1"/>
      <a name="bit7" val="1"/>
    </comp>
    <comp lib="0" loc="(590,240)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="4"/>
      <a name="label" val="Src 2"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(590,270)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="4"/>
      <a name="label" val="Dest"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(400,240)" name="Pin">
      <a name="width" val="20"/>
      <a name="tristate" val="false"/>
      <a name="label" val="Instruction"/>
    </comp>
    <comp lib="0" loc="(490,240)" name="Splitter">
      <a name="fanout" val="5"/>
      <a name="incoming" val="20"/>
      <a name="appear" val="center"/>
      <a name="bit0" val="4"/>
      <a name="bit1" val="4"/>
      <a name="bit2" val="4"/>
      <a name="bit3" val="4"/>
      <a name="bit4" val="3"/>
      <a name="bit5" val="3"/>
      <a name="bit6" val="3"/>
      <a name="bit7" val="3"/>
      <a name="bit8" val="2"/>
      <a name="bit9" val="2"/>
      <a name="bit10" val="2"/>
      <a name="bit11" val="2"/>
      <a name="bit12" val="1"/>
      <a name="bit13" val="1"/>
      <a name="bit14" val="1"/>
      <a name="bit15" val="1"/>
      <a name="bit16" val="0"/>
      <a name="bit17" val="0"/>
      <a name="bit18" val="0"/>
      <a name="bit19" val="0"/>
    </comp>
  </circuit>
  <circuit name="REG_FILE">
    <a name="circuit" val="REG_FILE"/>
    <a name="clabel" val=""/>
    <a name="clabelup" val="east"/>
    <a name="clabelfont" val="SansSerif plain 12"/>
    <appear>
      <path d="M80,40 Q117,57 156,40" fill="none" stroke="#808080" stroke-width="2"/>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="90" y="177">CLK</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="82" y="154">WriteData</text>
      <text font-family="SansSerif" font-size="14" font-weight="bold" text-anchor="middle" x="120" y="114">REG</text>
      <text font-family="SansSerif" font-size="14" font-weight="bold" text-anchor="middle" x="163" y="93">$1</text>
      <text font-family="SansSerif" font-size="14" font-weight="bold" text-anchor="middle" x="162" y="145">$2</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="139" y="182">CLR</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="74" y="124">DstReg</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="78" y="84">SrcReg1</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="78" y="103">SrcReg2</text>
      <rect fill="none" height="150" stroke="#000000" stroke-width="2" width="130" x="50" y="40"/>
      <polyline fill="none" points="81,189 90,180 100,190" stroke="#000000"/>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="80" y="65">WriteReg</text>
      <circ-port height="8" pin="820,90" width="8" x="46" y="76"/>
      <circ-port height="8" pin="820,120" width="8" x="46" y="96"/>
      <circ-port height="8" pin="820,150" width="8" x="46" y="146"/>
      <circ-port height="8" pin="820,180" width="8" x="86" y="186"/>
      <circ-port height="8" pin="820,210" width="8" x="136" y="186"/>
      <circ-port height="10" pin="800,290" width="10" x="155" y="35"/>
      <circ-port height="10" pin="800,390" width="10" x="165" y="35"/>
      <circ-port height="10" pin="870,510" width="10" x="175" y="85"/>
      <circ-port height="10" pin="870,550" width="10" x="175" y="135"/>
      <circ-port height="8" pin="820,60" width="8" x="46" y="116"/>
      <circ-port height="8" pin="820,30" width="8" x="46" y="56"/>
      <circ-anchor facing="east" height="6" width="6" x="177" y="87"/>
    </appear>
    <wire from="(530,210)" to="(530,220)"/>
    <wire from="(530,410)" to="(530,420)"/>
    <wire from="(580,180)" to="(580,190)"/>
    <wire from="(400,550)" to="(460,550)"/>
    <wire from="(610,210)" to="(610,220)"/>
    <wire from="(600,400)" to="(600,410)"/>
    <wire from="(220,290)" to="(220,360)"/>
    <wire from="(170,210)" to="(170,220)"/>
    <wire from="(250,210)" to="(250,220)"/>
    <wire from="(220,180)" to="(220,190)"/>
    <wire from="(740,290)" to="(800,290)"/>
    <wire from="(510,460)" to="(510,540)"/>
    <wire from="(420,220)" to="(420,250)"/>
    <wire from="(110,200)" to="(150,200)"/>
    <wire from="(510,390)" to="(510,420)"/>
    <wire from="(520,400)" to="(520,420)"/>
    <wire from="(190,510)" to="(190,540)"/>
    <wire from="(470,200)" to="(510,200)"/>
    <wire from="(280,190)" to="(280,290)"/>
    <wire from="(180,440)" to="(210,440)"/>
    <wire from="(820,90)" to="(840,90)"/>
    <wire from="(820,210)" to="(840,210)"/>
    <wire from="(190,290)" to="(220,290)"/>
    <wire from="(400,190)" to="(420,190)"/>
    <wire from="(500,380)" to="(500,420)"/>
    <wire from="(420,220)" to="(430,220)"/>
    <wire from="(510,390)" to="(710,390)"/>
    <wire from="(270,190)" to="(280,190)"/>
    <wire from="(490,370)" to="(490,420)"/>
    <wire from="(230,550)" to="(240,550)"/>
    <wire from="(480,360)" to="(480,420)"/>
    <wire from="(240,300)" to="(370,300)"/>
    <wire from="(600,410)" to="(740,410)"/>
    <wire from="(630,190)" to="(640,190)"/>
    <wire from="(470,350)" to="(470,420)"/>
    <wire from="(640,190)" to="(640,330)"/>
    <wire from="(160,210)" to="(160,220)"/>
    <wire from="(130,180)" to="(130,190)"/>
    <wire from="(270,330)" to="(640,330)"/>
    <wire from="(440,210)" to="(440,220)"/>
    <wire from="(530,410)" to="(590,410)"/>
    <wire from="(140,510)" to="(190,510)"/>
    <wire from="(520,210)" to="(520,220)"/>
    <wire from="(490,180)" to="(490,190)"/>
    <wire from="(270,520)" to="(270,540)"/>
    <wire from="(110,120)" to="(350,120)"/>
    <wire from="(330,220)" to="(330,250)"/>
    <wire from="(380,200)" to="(420,200)"/>
    <wire from="(190,560)" to="(190,590)"/>
    <wire from="(820,180)" to="(840,180)"/>
    <wire from="(820,60)" to="(840,60)"/>
    <wire from="(380,100)" to="(380,200)"/>
    <wire from="(190,190)" to="(190,290)"/>
    <wire from="(370,440)" to="(400,440)"/>
    <wire from="(310,190)" to="(330,190)"/>
    <wire from="(500,380)" to="(710,380)"/>
    <wire from="(370,100)" to="(370,140)"/>
    <wire from="(70,190)" to="(90,190)"/>
    <wire from="(210,300)" to="(210,350)"/>
    <wire from="(450,540)" to="(460,540)"/>
    <wire from="(330,220)" to="(340,220)"/>
    <wire from="(350,600)" to="(360,600)"/>
    <wire from="(350,520)" to="(360,520)"/>
    <wire from="(180,190)" to="(190,190)"/>
    <wire from="(140,590)" to="(150,590)"/>
    <wire from="(190,560)" to="(200,560)"/>
    <wire from="(180,590)" to="(190,590)"/>
    <wire from="(390,140)" to="(470,140)"/>
    <wire from="(610,400)" to="(740,400)"/>
    <wire from="(90,580)" to="(100,580)"/>
    <wire from="(90,500)" to="(100,500)"/>
    <wire from="(290,140)" to="(290,200)"/>
    <wire from="(520,570)" to="(520,620)"/>
    <wire from="(540,190)" to="(550,190)"/>
    <wire from="(730,350)" to="(730,360)"/>
    <wire from="(590,410)" to="(590,420)"/>
    <wire from="(200,130)" to="(200,200)"/>
    <wire from="(140,550)" to="(200,550)"/>
    <wire from="(550,190)" to="(550,320)"/>
    <wire from="(430,210)" to="(430,220)"/>
    <wire from="(400,180)" to="(400,190)"/>
    <wire from="(230,290)" to="(280,290)"/>
    <wire from="(560,130)" to="(560,200)"/>
    <wire from="(270,410)" to="(270,420)"/>
    <wire from="(350,210)" to="(350,220)"/>
    <wire from="(260,400)" to="(260,420)"/>
    <wire from="(110,120)" to="(110,200)"/>
    <wire from="(380,40)" to="(380,60)"/>
    <wire from="(760,390)" to="(800,390)"/>
    <wire from="(250,460)" to="(250,540)"/>
    <wire from="(600,220)" to="(600,250)"/>
    <wire from="(400,100)" to="(400,130)"/>
    <wire from="(450,510)" to="(450,540)"/>
    <wire from="(260,320)" to="(550,320)"/>
    <wire from="(360,100)" to="(360,130)"/>
    <wire from="(290,200)" to="(330,200)"/>
    <wire from="(240,220)" to="(240,250)"/>
    <wire from="(250,390)" to="(250,420)"/>
    <wire from="(820,150)" to="(840,150)"/>
    <wire from="(820,30)" to="(840,30)"/>
    <wire from="(240,80)" to="(270,80)"/>
    <wire from="(200,130)" to="(360,130)"/>
    <wire from="(490,370)" to="(710,370)"/>
    <wire from="(440,440)" to="(470,440)"/>
    <wire from="(580,190)" to="(600,190)"/>
    <wire from="(400,130)" to="(560,130)"/>
    <wire from="(240,380)" to="(240,420)"/>
    <wire from="(220,190)" to="(240,190)"/>
    <wire from="(450,190)" to="(460,190)"/>
    <wire from="(230,370)" to="(230,420)"/>
    <wire from="(490,550)" to="(500,550)"/>
    <wire from="(240,220)" to="(250,220)"/>
    <wire from="(520,400)" to="(600,400)"/>
    <wire from="(480,360)" to="(610,360)"/>
    <wire from="(730,350)" to="(740,350)"/>
    <wire from="(460,190)" to="(460,310)"/>
    <wire from="(600,220)" to="(610,220)"/>
    <wire from="(220,360)" to="(220,420)"/>
    <wire from="(620,210)" to="(620,220)"/>
    <wire from="(210,350)" to="(210,420)"/>
    <wire from="(400,510)" to="(450,510)"/>
    <wire from="(90,300)" to="(210,300)"/>
    <wire from="(260,210)" to="(260,220)"/>
    <wire from="(310,180)" to="(310,190)"/>
    <wire from="(340,210)" to="(340,220)"/>
    <wire from="(560,200)" to="(600,200)"/>
    <wire from="(350,100)" to="(350,120)"/>
    <wire from="(250,310)" to="(250,390)"/>
    <wire from="(240,300)" to="(240,380)"/>
    <wire from="(230,290)" to="(230,370)"/>
    <wire from="(270,330)" to="(270,410)"/>
    <wire from="(260,320)" to="(260,400)"/>
    <wire from="(830,510)" to="(870,510)"/>
    <wire from="(830,550)" to="(870,550)"/>
    <wire from="(510,220)" to="(510,250)"/>
    <wire from="(450,560)" to="(450,590)"/>
    <wire from="(200,200)" to="(240,200)"/>
    <wire from="(150,220)" to="(150,250)"/>
    <wire from="(530,520)" to="(530,540)"/>
    <wire from="(820,120)" to="(840,120)"/>
    <wire from="(610,360)" to="(610,400)"/>
    <wire from="(110,440)" to="(140,440)"/>
    <wire from="(590,420)" to="(740,420)"/>
    <wire from="(310,80)" to="(340,80)"/>
    <wire from="(250,310)" to="(460,310)"/>
    <wire from="(370,190)" to="(370,300)"/>
    <wire from="(490,190)" to="(510,190)"/>
    <wire from="(390,100)" to="(390,140)"/>
    <wire from="(130,190)" to="(150,190)"/>
    <wire from="(90,190)" to="(90,300)"/>
    <wire from="(400,590)" to="(410,590)"/>
    <wire from="(440,590)" to="(450,590)"/>
    <wire from="(510,220)" to="(520,220)"/>
    <wire from="(450,560)" to="(460,560)"/>
    <wire from="(360,190)" to="(370,190)"/>
    <wire from="(350,580)" to="(360,580)"/>
    <wire from="(350,500)" to="(360,500)"/>
    <wire from="(150,220)" to="(160,220)"/>
    <wire from="(290,140)" to="(370,140)"/>
    <wire from="(190,540)" to="(200,540)"/>
    <wire from="(260,570)" to="(260,620)"/>
    <wire from="(740,290)" to="(740,350)"/>
    <wire from="(90,600)" to="(100,600)"/>
    <wire from="(90,520)" to="(100,520)"/>
    <wire from="(260,400)" to="(520,400)"/>
    <wire from="(250,390)" to="(510,390)"/>
    <wire from="(270,410)" to="(530,410)"/>
    <wire from="(470,140)" to="(470,200)"/>
    <wire from="(240,380)" to="(500,380)"/>
    <wire from="(230,370)" to="(490,370)"/>
    <wire from="(220,360)" to="(480,360)"/>
    <wire from="(210,350)" to="(470,350)"/>
    <comp lib="0" loc="(510,250)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(730,360)" name="Splitter">
      <a name="facing" val="west"/>
      <a name="fanout" val="3"/>
      <a name="incoming" val="24"/>
      <a name="bit1" val="0"/>
      <a name="bit2" val="0"/>
      <a name="bit3" val="0"/>
      <a name="bit4" val="0"/>
      <a name="bit5" val="0"/>
      <a name="bit6" val="0"/>
      <a name="bit7" val="0"/>
      <a name="bit8" val="1"/>
      <a name="bit9" val="1"/>
      <a name="bit10" val="1"/>
      <a name="bit11" val="1"/>
      <a name="bit12" val="1"/>
      <a name="bit13" val="1"/>
      <a name="bit14" val="1"/>
      <a name="bit15" val="1"/>
      <a name="bit16" val="2"/>
      <a name="bit17" val="2"/>
      <a name="bit18" val="2"/>
      <a name="bit19" val="2"/>
      <a name="bit20" val="2"/>
      <a name="bit21" val="2"/>
      <a name="bit22" val="2"/>
      <a name="bit23" val="2"/>
    </comp>
    <comp lib="0" loc="(420,250)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(840,60)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="D1"/>
    </comp>
    <comp lib="0" loc="(150,250)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(350,220)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(490,180)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="width" val="8"/>
      <a name="label" val="WD"/>
    </comp>
    <comp lib="0" loc="(350,600)" name="Constant">
      <a name="width" val="4"/>
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="0" loc="(840,180)" name="Tunnel">
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(240,80)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="D1"/>
    </comp>
    <comp lib="3" loc="(140,510)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="0" loc="(90,580)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="D1"/>
    </comp>
    <comp lib="0" loc="(580,180)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="width" val="8"/>
      <a name="label" val="WD"/>
    </comp>
    <comp lib="0" loc="(260,620)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="width" val="8"/>
      <a name="label" val="READ_DATA_1"/>
    </comp>
    <comp lib="6" loc="(584,744)" name="Text">
      <a name="text" val="But we must be careful to not pass it when reading or writing to zero register. Also the write register flag should be checked."/>
      <a name="font" val="SansSerif bold 14"/>
    </comp>
    <comp lib="0" loc="(820,30)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="RegWrite"/>
    </comp>
    <comp lib="6" loc="(574,720)" name="Text">
      <a name="text" val="So what we are doing here is we are checking if the register we are trying to read is also getting updated if so we just pass the new value of it using MUX."/>
      <a name="font" val="SansSerif bold 14"/>
    </comp>
    <comp lib="0" loc="(90,600)" name="Constant">
      <a name="width" val="4"/>
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="4" loc="(630,190)" name="Register">
      <a name="label" val="$sp"/>
      <a name="labelfont" val="SansSerif bold 14"/>
    </comp>
    <comp lib="3" loc="(140,590)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="0" loc="(170,220)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(330,250)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(830,510)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="READ_DATA_1"/>
    </comp>
    <comp lib="0" loc="(350,500)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="D1"/>
    </comp>
    <comp lib="0" loc="(370,440)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="S2"/>
    </comp>
    <comp lib="0" loc="(350,580)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="D1"/>
    </comp>
    <comp lib="0" loc="(840,210)" name="Tunnel">
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(600,250)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(840,90)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="S1"/>
    </comp>
    <comp lib="3" loc="(400,510)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="0" loc="(820,60)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="Dest-1"/>
    </comp>
    <comp lib="0" loc="(180,440)" name="Bit Extender">
      <a name="in_width" val="4"/>
      <a name="out_width" val="3"/>
    </comp>
    <comp lib="0" loc="(130,180)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="width" val="8"/>
      <a name="label" val="WD"/>
    </comp>
    <comp lib="0" loc="(820,180)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(90,520)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="S1"/>
    </comp>
    <comp lib="0" loc="(140,550)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="RegWrite"/>
    </comp>
    <comp lib="1" loc="(180,590)" name="NOT Gate"/>
    <comp lib="0" loc="(800,390)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="24"/>
      <a name="tristate" val="false"/>
      <a name="label" val="$t1:$t0:$sp"/>
      <a name="labelloc" val="south"/>
      <a name="labelfont" val="SansSerif bold 14"/>
    </comp>
    <comp lib="4" loc="(450,190)" name="Register">
      <a name="label" val="$t4"/>
      <a name="labelfont" val="SansSerif bold 14"/>
    </comp>
    <comp lib="4" loc="(540,190)" name="Register">
      <a name="label" val="$t0"/>
      <a name="labelfont" val="SansSerif bold 14"/>
    </comp>
    <comp lib="0" loc="(840,30)" name="Tunnel">
      <a name="label" val="RegWrite"/>
    </comp>
    <comp lib="0" loc="(240,250)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="3" loc="(400,590)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="0" loc="(530,220)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="2" loc="(250,460)" name="Multiplexer">
      <a name="facing" val="south"/>
      <a name="select" val="3"/>
      <a name="width" val="8"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="0" loc="(350,520)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="S2"/>
    </comp>
    <comp lib="0" loc="(760,390)" name="Splitter">
      <a name="facing" val="west"/>
      <a name="fanout" val="3"/>
      <a name="incoming" val="24"/>
      <a name="bit0" val="2"/>
      <a name="bit1" val="2"/>
      <a name="bit3" val="2"/>
      <a name="bit4" val="2"/>
      <a name="bit5" val="2"/>
      <a name="bit6" val="2"/>
      <a name="bit7" val="2"/>
      <a name="bit8" val="1"/>
      <a name="bit9" val="1"/>
      <a name="bit10" val="1"/>
      <a name="bit11" val="1"/>
      <a name="bit12" val="1"/>
      <a name="bit13" val="1"/>
      <a name="bit14" val="1"/>
      <a name="bit15" val="1"/>
      <a name="bit16" val="0"/>
      <a name="bit17" val="0"/>
      <a name="bit18" val="0"/>
      <a name="bit19" val="0"/>
      <a name="bit20" val="0"/>
      <a name="bit21" val="0"/>
      <a name="bit22" val="0"/>
      <a name="bit23" val="0"/>
    </comp>
    <comp lib="2" loc="(260,570)" name="Multiplexer">
      <a name="facing" val="south"/>
      <a name="width" val="8"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="1" loc="(440,590)" name="NOT Gate"/>
    <comp lib="0" loc="(440,220)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(70,190)" name="Constant">
      <a name="width" val="8"/>
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="0" loc="(530,520)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="width" val="8"/>
      <a name="label" val="WD"/>
    </comp>
    <comp lib="2" loc="(380,60)" name="Demultiplexer">
      <a name="facing" val="south"/>
      <a name="select" val="3"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="0" loc="(520,620)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="width" val="8"/>
      <a name="label" val="READ_DATA_2"/>
    </comp>
    <comp lib="4" loc="(180,190)" name="Register">
      <a name="label" val="$t1"/>
      <a name="labelfont" val="SansSerif bold 14"/>
    </comp>
    <comp lib="0" loc="(820,90)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="Src-1"/>
    </comp>
    <comp lib="0" loc="(620,220)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(270,520)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="width" val="8"/>
      <a name="label" val="WD"/>
    </comp>
    <comp lib="6" loc="(578,697)" name="Text">
      <a name="text" val="Registers typically write on rising edge and reads on falling edge. But in logsim we have no way (at least IDK) to control when to read."/>
      <a name="font" val="SansSerif bold 14"/>
    </comp>
    <comp lib="0" loc="(380,40)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="RegWrite"/>
    </comp>
    <comp lib="0" loc="(110,440)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="S1"/>
    </comp>
    <comp lib="2" loc="(520,570)" name="Multiplexer">
      <a name="facing" val="south"/>
      <a name="width" val="8"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="2" loc="(510,460)" name="Multiplexer">
      <a name="facing" val="south"/>
      <a name="select" val="3"/>
      <a name="width" val="8"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="0" loc="(220,180)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="width" val="8"/>
      <a name="label" val="WD"/>
    </comp>
    <comp lib="0" loc="(820,120)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="Src-2"/>
    </comp>
    <comp lib="0" loc="(840,120)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="S2"/>
    </comp>
    <comp lib="0" loc="(440,440)" name="Bit Extender">
      <a name="in_width" val="4"/>
      <a name="out_width" val="3"/>
    </comp>
    <comp lib="0" loc="(90,500)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="D1"/>
    </comp>
    <comp lib="0" loc="(820,210)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="4" loc="(360,190)" name="Register">
      <a name="label" val="$t3"/>
      <a name="labelfont" val="SansSerif bold 14"/>
    </comp>
    <comp lib="0" loc="(800,290)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="24"/>
      <a name="tristate" val="false"/>
      <a name="label" val="$t4:$t3:$t2"/>
      <a name="labelloc" val="south"/>
      <a name="labelfont" val="SansSerif bold 14"/>
    </comp>
    <comp lib="0" loc="(870,550)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="8"/>
      <a name="label" val="ReadData2"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="1" loc="(230,550)" name="AND Gate">
      <a name="size" val="30"/>
      <a name="inputs" val="3"/>
    </comp>
    <comp lib="1" loc="(490,550)" name="AND Gate">
      <a name="size" val="30"/>
      <a name="inputs" val="3"/>
    </comp>
    <comp lib="0" loc="(870,510)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="8"/>
      <a name="label" val="ReadData1"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(840,150)" name="Tunnel">
      <a name="width" val="8"/>
      <a name="label" val="WD"/>
    </comp>
    <comp lib="0" loc="(400,550)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="RegWrite"/>
    </comp>
    <comp lib="0" loc="(400,180)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="width" val="8"/>
      <a name="label" val="WD"/>
    </comp>
    <comp lib="0" loc="(830,550)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="READ_DATA_2"/>
    </comp>
    <comp lib="0" loc="(260,220)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(310,180)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="width" val="8"/>
      <a name="label" val="WD"/>
    </comp>
    <comp lib="0" loc="(820,150)" name="Pin">
      <a name="width" val="8"/>
      <a name="tristate" val="false"/>
      <a name="label" val="WriteData"/>
    </comp>
    <comp lib="0" loc="(310,80)" name="Bit Extender">
      <a name="in_width" val="4"/>
      <a name="out_width" val="3"/>
    </comp>
    <comp lib="4" loc="(270,190)" name="Register">
      <a name="label" val="$t2"/>
      <a name="labelfont" val="SansSerif bold 14"/>
    </comp>
  </circuit>
  <circuit name="REG_FILE_EXTENDED">
    <a name="circuit" val="REG_FILE_EXTENDED"/>
    <a name="clabel" val=""/>
    <a name="clabelup" val="east"/>
    <a name="clabelfont" val="SansSerif plain 12"/>
    <appear>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="78" y="84">SrcReg1</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="78" y="103">SrcReg2</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="80" y="63">WriteReg</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="139" y="182">CLR</text>
      <path d="M80,40 Q117,57 156,40" fill="none" stroke="#808080" stroke-width="2"/>
      <text font-family="SansSerif" font-size="14" font-weight="bold" text-anchor="middle" x="163" y="95">$1</text>
      <polyline fill="none" points="81,189 90,180 100,190" stroke="#000000"/>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="82" y="154">WriteData</text>
      <rect fill="none" height="150" stroke="#000000" stroke-width="2" width="130" x="50" y="40"/>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="75" y="123">DstReg</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="90" y="177">CLK</text>
      <text font-family="SansSerif" font-size="14" font-weight="bold" text-anchor="middle" x="120" y="114">REG</text>
      <text font-family="SansSerif" font-size="14" font-weight="bold" text-anchor="middle" x="162" y="145">$2</text>
      <circ-port height="8" pin="150,30" width="8" x="46" y="56"/>
      <circ-port height="8" pin="150,60" width="8" x="46" y="116"/>
      <circ-port height="8" pin="150,90" width="8" x="46" y="76"/>
      <circ-port height="8" pin="150,120" width="8" x="46" y="96"/>
      <circ-port height="8" pin="150,150" width="8" x="46" y="146"/>
      <circ-port height="8" pin="150,180" width="8" x="86" y="186"/>
      <circ-port height="8" pin="150,210" width="8" x="136" y="186"/>
      <circ-port height="10" pin="510,30" width="10" x="175" y="85"/>
      <circ-port height="10" pin="510,70" width="10" x="175" y="135"/>
      <circ-port height="10" pin="1010,60" width="10" x="155" y="35"/>
      <circ-port height="10" pin="1010,160" width="10" x="165" y="35"/>
      <circ-anchor facing="east" height="6" width="6" x="177" y="87"/>
    </appear>
    <wire from="(260,530)" to="(260,1110)"/>
    <wire from="(630,690)" to="(750,690)"/>
    <wire from="(700,620)" to="(750,620)"/>
    <wire from="(550,160)" to="(920,160)"/>
    <wire from="(950,60)" to="(1010,60)"/>
    <wire from="(400,1120)" to="(400,1130)"/>
    <wire from="(400,800)" to="(400,810)"/>
    <wire from="(400,1440)" to="(400,1450)"/>
    <wire from="(650,670)" to="(650,1060)"/>
    <wire from="(390,1750)" to="(390,1760)"/>
    <wire from="(400,400)" to="(400,410)"/>
    <wire from="(390,310)" to="(390,320)"/>
    <wire from="(390,710)" to="(390,720)"/>
    <wire from="(390,1350)" to="(390,1360)"/>
    <wire from="(590,1180)" to="(840,1180)"/>
    <wire from="(560,410)" to="(600,410)"/>
    <wire from="(1020,700)" to="(1020,730)"/>
    <wire from="(610,1140)" to="(840,1140)"/>
    <wire from="(550,290)" to="(720,290)"/>
    <wire from="(230,290)" to="(230,450)"/>
    <wire from="(510,360)" to="(510,1100)"/>
    <wire from="(630,1100)" to="(840,1100)"/>
    <wire from="(540,170)" to="(540,280)"/>
    <wire from="(730,280)" to="(750,280)"/>
    <wire from="(610,710)" to="(610,1140)"/>
    <wire from="(590,420)" to="(750,420)"/>
    <wire from="(660,350)" to="(750,350)"/>
    <wire from="(150,180)" to="(170,180)"/>
    <wire from="(390,510)" to="(400,510)"/>
    <wire from="(380,580)" to="(390,580)"/>
    <wire from="(390,1230)" to="(400,1230)"/>
    <wire from="(410,610)" to="(420,610)"/>
    <wire from="(390,1550)" to="(400,1550)"/>
    <wire from="(380,1620)" to="(390,1620)"/>
    <wire from="(370,1610)" to="(380,1610)"/>
    <wire from="(410,1650)" to="(420,1650)"/>
    <wire from="(370,570)" to="(380,570)"/>
    <wire from="(510,360)" to="(650,360)"/>
    <wire from="(440,200)" to="(440,270)"/>
    <wire from="(970,700)" to="(1020,700)"/>
    <wire from="(200,1730)" to="(390,1730)"/>
    <wire from="(420,780)" to="(480,780)"/>
    <wire from="(280,510)" to="(280,900)"/>
    <wire from="(180,460)" to="(240,460)"/>
    <wire from="(650,1060)" to="(840,1060)"/>
    <wire from="(460,310)" to="(460,580)"/>
    <wire from="(720,600)" to="(720,920)"/>
    <wire from="(400,1010)" to="(400,1020)"/>
    <wire from="(380,1310)" to="(380,1320)"/>
    <wire from="(390,920)" to="(390,930)"/>
    <wire from="(410,1340)" to="(410,1350)"/>
    <wire from="(420,710)" to="(420,720)"/>
    <wire from="(410,700)" to="(410,710)"/>
    <wire from="(420,310)" to="(420,320)"/>
    <wire from="(380,1710)" to="(380,1720)"/>
    <wire from="(380,670)" to="(380,680)"/>
    <wire from="(410,300)" to="(410,310)"/>
    <wire from="(420,1350)" to="(420,1360)"/>
    <wire from="(410,1740)" to="(410,1750)"/>
    <wire from="(420,1750)" to="(420,1760)"/>
    <wire from="(380,270)" to="(380,280)"/>
    <wire from="(560,150)" to="(920,150)"/>
    <wire from="(1020,750)" to="(1020,780)"/>
    <wire from="(770,740)" to="(770,770)"/>
    <wire from="(220,1530)" to="(390,1530)"/>
    <wire from="(710,610)" to="(750,610)"/>
    <wire from="(1070,350)" to="(1070,420)"/>
    <wire from="(640,680)" to="(750,680)"/>
    <wire from="(210,580)" to="(210,1630)"/>
    <wire from="(670,1020)" to="(840,1020)"/>
    <wire from="(570,420)" to="(570,1720)"/>
    <wire from="(690,980)" to="(840,980)"/>
    <wire from="(680,640)" to="(680,1000)"/>
    <wire from="(600,410)" to="(750,410)"/>
    <wire from="(120,520)" to="(140,520)"/>
    <wire from="(150,150)" to="(170,150)"/>
    <wire from="(240,1330)" to="(390,1330)"/>
    <wire from="(590,330)" to="(680,330)"/>
    <wire from="(710,940)" to="(840,940)"/>
    <wire from="(520,370)" to="(520,1200)"/>
    <wire from="(920,770)" to="(930,770)"/>
    <wire from="(920,690)" to="(930,690)"/>
    <wire from="(1010,780)" to="(1020,780)"/>
    <wire from="(670,340)" to="(750,340)"/>
    <wire from="(700,310)" to="(700,620)"/>
    <wire from="(660,350)" to="(660,660)"/>
    <wire from="(740,270)" to="(750,270)"/>
    <wire from="(740,270)" to="(740,580)"/>
    <wire from="(620,390)" to="(620,700)"/>
    <wire from="(580,180)" to="(580,320)"/>
    <wire from="(590,190)" to="(590,330)"/>
    <wire from="(420,680)" to="(470,680)"/>
    <wire from="(540,280)" to="(730,280)"/>
    <wire from="(970,740)" to="(1030,740)"/>
    <wire from="(410,910)" to="(410,920)"/>
    <wire from="(400,500)" to="(400,510)"/>
    <wire from="(390,810)" to="(390,820)"/>
    <wire from="(390,1450)" to="(390,1460)"/>
    <wire from="(550,400)" to="(610,400)"/>
    <wire from="(420,920)" to="(420,930)"/>
    <wire from="(400,1540)" to="(400,1550)"/>
    <wire from="(400,1220)" to="(400,1230)"/>
    <wire from="(300,490)" to="(300,690)"/>
    <wire from="(390,410)" to="(390,420)"/>
    <wire from="(380,880)" to="(380,890)"/>
    <wire from="(390,1130)" to="(390,1140)"/>
    <wire from="(1010,390)" to="(1010,420)"/>
    <wire from="(440,290)" to="(550,290)"/>
    <wire from="(450,300)" to="(560,300)"/>
    <wire from="(460,310)" to="(570,310)"/>
    <wire from="(470,320)" to="(580,320)"/>
    <wire from="(480,330)" to="(590,330)"/>
    <wire from="(650,670)" to="(750,670)"/>
    <wire from="(290,790)" to="(390,790)"/>
    <wire from="(730,900)" to="(840,900)"/>
    <wire from="(640,680)" to="(640,1080)"/>
    <wire from="(230,560)" to="(230,1430)"/>
    <wire from="(500,350)" to="(660,350)"/>
    <wire from="(720,600)" to="(750,600)"/>
    <wire from="(570,140)" to="(920,140)"/>
    <wire from="(420,1720)" to="(570,1720)"/>
    <wire from="(150,120)" to="(170,120)"/>
    <wire from="(470,320)" to="(470,680)"/>
    <wire from="(370,1710)" to="(380,1710)"/>
    <wire from="(410,710)" to="(420,710)"/>
    <wire from="(410,310)" to="(420,310)"/>
    <wire from="(380,1320)" to="(390,1320)"/>
    <wire from="(380,1720)" to="(390,1720)"/>
    <wire from="(390,1650)" to="(400,1650)"/>
    <wire from="(680,330)" to="(750,330)"/>
    <wire from="(410,1350)" to="(420,1350)"/>
    <wire from="(370,1310)" to="(380,1310)"/>
    <wire from="(390,610)" to="(400,610)"/>
    <wire from="(380,680)" to="(390,680)"/>
    <wire from="(600,720)" to="(600,1160)"/>
    <wire from="(410,1750)" to="(420,1750)"/>
    <wire from="(380,280)" to="(390,280)"/>
    <wire from="(370,270)" to="(380,270)"/>
    <wire from="(370,670)" to="(380,670)"/>
    <wire from="(310,590)" to="(390,590)"/>
    <wire from="(940,120)" to="(950,120)"/>
    <wire from="(610,400)" to="(750,400)"/>
    <wire from="(960,390)" to="(1010,390)"/>
    <wire from="(710,610)" to="(710,940)"/>
    <wire from="(580,180)" to="(950,180)"/>
    <wire from="(420,410)" to="(420,420)"/>
    <wire from="(410,800)" to="(410,810)"/>
    <wire from="(380,1410)" to="(380,1420)"/>
    <wire from="(410,400)" to="(410,410)"/>
    <wire from="(390,1020)" to="(390,1030)"/>
    <wire from="(380,1090)" to="(380,1100)"/>
    <wire from="(380,770)" to="(380,780)"/>
    <wire from="(420,810)" to="(420,820)"/>
    <wire from="(410,1120)" to="(410,1130)"/>
    <wire from="(420,1130)" to="(420,1140)"/>
    <wire from="(410,1440)" to="(410,1450)"/>
    <wire from="(420,1450)" to="(420,1460)"/>
    <wire from="(380,370)" to="(380,380)"/>
    <wire from="(320,470)" to="(320,490)"/>
    <wire from="(1010,440)" to="(1010,470)"/>
    <wire from="(790,660)" to="(1080,660)"/>
    <wire from="(280,900)" to="(390,900)"/>
    <wire from="(250,540)" to="(250,1210)"/>
    <wire from="(580,320)" to="(690,320)"/>
    <wire from="(420,580)" to="(460,580)"/>
    <wire from="(470,70)" to="(510,70)"/>
    <wire from="(1090,760)" to="(1090,810)"/>
    <wire from="(570,140)" to="(570,310)"/>
    <wire from="(230,290)" to="(390,290)"/>
    <wire from="(790,350)" to="(1070,350)"/>
    <wire from="(530,380)" to="(530,1320)"/>
    <wire from="(730,590)" to="(750,590)"/>
    <wire from="(240,390)" to="(390,390)"/>
    <wire from="(590,730)" to="(750,730)"/>
    <wire from="(420,200)" to="(440,200)"/>
    <wire from="(660,660)" to="(750,660)"/>
    <wire from="(150,90)" to="(170,90)"/>
    <wire from="(380,890)" to="(390,890)"/>
    <wire from="(410,920)" to="(420,920)"/>
    <wire from="(370,880)" to="(380,880)"/>
    <wire from="(250,1210)" to="(390,1210)"/>
    <wire from="(950,60)" to="(950,120)"/>
    <wire from="(420,1620)" to="(560,1620)"/>
    <wire from="(420,990)" to="(500,990)"/>
    <wire from="(620,390)" to="(750,390)"/>
    <wire from="(540,390)" to="(620,390)"/>
    <wire from="(670,650)" to="(670,1020)"/>
    <wire from="(910,460)" to="(920,460)"/>
    <wire from="(920,790)" to="(930,790)"/>
    <wire from="(920,710)" to="(930,710)"/>
    <wire from="(1000,470)" to="(1010,470)"/>
    <wire from="(1020,730)" to="(1030,730)"/>
    <wire from="(910,380)" to="(920,380)"/>
    <wire from="(650,360)" to="(650,670)"/>
    <wire from="(690,320)" to="(690,630)"/>
    <wire from="(730,280)" to="(730,590)"/>
    <wire from="(610,400)" to="(610,710)"/>
    <wire from="(240,390)" to="(240,460)"/>
    <wire from="(480,330)" to="(480,780)"/>
    <wire from="(960,430)" to="(1020,430)"/>
    <wire from="(490,340)" to="(670,340)"/>
    <wire from="(390,1550)" to="(390,1560)"/>
    <wire from="(400,600)" to="(400,610)"/>
    <wire from="(400,1640)" to="(400,1650)"/>
    <wire from="(420,1020)" to="(420,1030)"/>
    <wire from="(410,1010)" to="(410,1020)"/>
    <wire from="(380,980)" to="(380,990)"/>
    <wire from="(390,510)" to="(390,520)"/>
    <wire from="(390,1230)" to="(390,1240)"/>
    <wire from="(690,320)" to="(750,320)"/>
    <wire from="(420,280)" to="(540,280)"/>
    <wire from="(440,270)" to="(740,270)"/>
    <wire from="(630,690)" to="(630,1100)"/>
    <wire from="(600,1160)" to="(840,1160)"/>
    <wire from="(160,600)" to="(160,630)"/>
    <wire from="(600,720)" to="(750,720)"/>
    <wire from="(270,520)" to="(270,1000)"/>
    <wire from="(420,480)" to="(450,480)"/>
    <wire from="(1060,740)" to="(1070,740)"/>
    <wire from="(740,580)" to="(740,880)"/>
    <wire from="(620,1120)" to="(840,1120)"/>
    <wire from="(150,60)" to="(170,60)"/>
    <wire from="(410,410)" to="(420,410)"/>
    <wire from="(380,1100)" to="(390,1100)"/>
    <wire from="(380,1420)" to="(390,1420)"/>
    <wire from="(390,710)" to="(400,710)"/>
    <wire from="(370,1090)" to="(380,1090)"/>
    <wire from="(380,780)" to="(390,780)"/>
    <wire from="(390,310)" to="(400,310)"/>
    <wire from="(370,1410)" to="(380,1410)"/>
    <wire from="(390,1350)" to="(400,1350)"/>
    <wire from="(410,810)" to="(420,810)"/>
    <wire from="(390,1750)" to="(400,1750)"/>
    <wire from="(410,1450)" to="(420,1450)"/>
    <wire from="(410,1130)" to="(420,1130)"/>
    <wire from="(640,1080)" to="(840,1080)"/>
    <wire from="(380,380)" to="(390,380)"/>
    <wire from="(370,370)" to="(380,370)"/>
    <wire from="(370,770)" to="(380,770)"/>
    <wire from="(570,310)" to="(700,310)"/>
    <wire from="(180,470)" to="(320,470)"/>
    <wire from="(200,590)" to="(200,1730)"/>
    <wire from="(420,1520)" to="(550,1520)"/>
    <wire from="(670,650)" to="(750,650)"/>
    <wire from="(420,890)" to="(490,890)"/>
    <wire from="(180,480)" to="(310,480)"/>
    <wire from="(740,580)" to="(750,580)"/>
    <wire from="(630,380)" to="(750,380)"/>
    <wire from="(700,310)" to="(750,310)"/>
    <wire from="(1100,710)" to="(1100,730)"/>
    <wire from="(660,1040)" to="(840,1040)"/>
    <wire from="(210,1630)" to="(390,1630)"/>
    <wire from="(180,490)" to="(300,490)"/>
    <wire from="(590,730)" to="(590,1180)"/>
    <wire from="(410,1220)" to="(410,1230)"/>
    <wire from="(380,1190)" to="(380,1200)"/>
    <wire from="(420,1230)" to="(420,1240)"/>
    <wire from="(420,510)" to="(420,520)"/>
    <wire from="(410,500)" to="(410,510)"/>
    <wire from="(380,1510)" to="(380,1520)"/>
    <wire from="(410,1540)" to="(410,1550)"/>
    <wire from="(420,1550)" to="(420,1560)"/>
    <wire from="(540,390)" to="(540,1420)"/>
    <wire from="(380,470)" to="(380,480)"/>
    <wire from="(180,500)" to="(290,500)"/>
    <wire from="(530,380)" to="(630,380)"/>
    <wire from="(700,620)" to="(700,960)"/>
    <wire from="(560,150)" to="(560,300)"/>
    <wire from="(180,510)" to="(280,510)"/>
    <wire from="(490,340)" to="(490,890)"/>
    <wire from="(1080,450)" to="(1080,500)"/>
    <wire from="(230,1430)" to="(390,1430)"/>
    <wire from="(180,520)" to="(270,520)"/>
    <wire from="(290,500)" to="(290,790)"/>
    <wire from="(420,380)" to="(440,380)"/>
    <wire from="(680,1000)" to="(840,1000)"/>
    <wire from="(150,30)" to="(170,30)"/>
    <wire from="(540,170)" to="(950,170)"/>
    <wire from="(410,1020)" to="(420,1020)"/>
    <wire from="(370,980)" to="(380,980)"/>
    <wire from="(380,990)" to="(390,990)"/>
    <wire from="(390,920)" to="(400,920)"/>
    <wire from="(680,640)" to="(750,640)"/>
    <wire from="(180,530)" to="(260,530)"/>
    <wire from="(660,660)" to="(660,1040)"/>
    <wire from="(910,480)" to="(920,480)"/>
    <wire from="(180,540)" to="(250,540)"/>
    <wire from="(1010,420)" to="(1020,420)"/>
    <wire from="(970,780)" to="(980,780)"/>
    <wire from="(1020,750)" to="(1030,750)"/>
    <wire from="(910,400)" to="(920,400)"/>
    <wire from="(680,330)" to="(680,640)"/>
    <wire from="(610,710)" to="(750,710)"/>
    <wire from="(720,290)" to="(720,600)"/>
    <wire from="(600,410)" to="(600,720)"/>
    <wire from="(700,960)" to="(840,960)"/>
    <wire from="(640,370)" to="(640,680)"/>
    <wire from="(720,920)" to="(840,920)"/>
    <wire from="(220,570)" to="(220,1530)"/>
    <wire from="(940,120)" to="(940,130)"/>
    <wire from="(180,550)" to="(240,550)"/>
    <wire from="(400,700)" to="(400,710)"/>
    <wire from="(400,300)" to="(400,310)"/>
    <wire from="(390,610)" to="(390,620)"/>
    <wire from="(400,1340)" to="(400,1350)"/>
    <wire from="(390,1650)" to="(390,1660)"/>
    <wire from="(400,1740)" to="(400,1750)"/>
    <wire from="(180,560)" to="(230,560)"/>
    <wire from="(420,1420)" to="(540,1420)"/>
    <wire from="(590,190)" to="(950,190)"/>
    <wire from="(710,300)" to="(750,300)"/>
    <wire from="(770,430)" to="(770,460)"/>
    <wire from="(970,160)" to="(1010,160)"/>
    <wire from="(740,880)" to="(840,880)"/>
    <wire from="(420,1200)" to="(520,1200)"/>
    <wire from="(180,570)" to="(220,570)"/>
    <wire from="(640,370)" to="(750,370)"/>
    <wire from="(440,290)" to="(440,380)"/>
    <wire from="(180,580)" to="(210,580)"/>
    <wire from="(300,690)" to="(390,690)"/>
    <wire from="(560,300)" to="(710,300)"/>
    <wire from="(570,420)" to="(590,420)"/>
    <wire from="(1050,430)" to="(1060,430)"/>
    <wire from="(550,400)" to="(550,1520)"/>
    <wire from="(310,480)" to="(310,590)"/>
    <wire from="(620,700)" to="(620,1120)"/>
    <wire from="(180,590)" to="(200,590)"/>
    <wire from="(390,1130)" to="(400,1130)"/>
    <wire from="(410,510)" to="(420,510)"/>
    <wire from="(380,1200)" to="(390,1200)"/>
    <wire from="(370,1510)" to="(380,1510)"/>
    <wire from="(380,1520)" to="(390,1520)"/>
    <wire from="(390,1450)" to="(400,1450)"/>
    <wire from="(410,1230)" to="(420,1230)"/>
    <wire from="(410,1550)" to="(420,1550)"/>
    <wire from="(390,810)" to="(400,810)"/>
    <wire from="(390,410)" to="(400,410)"/>
    <wire from="(370,1190)" to="(380,1190)"/>
    <wire from="(380,480)" to="(390,480)"/>
    <wire from="(370,470)" to="(380,470)"/>
    <wire from="(620,700)" to="(750,700)"/>
    <wire from="(730,590)" to="(730,900)"/>
    <wire from="(320,490)" to="(390,490)"/>
    <wire from="(520,370)" to="(640,370)"/>
    <wire from="(1090,400)" to="(1090,420)"/>
    <wire from="(500,350)" to="(500,990)"/>
    <wire from="(550,160)" to="(550,290)"/>
    <wire from="(270,1000)" to="(390,1000)"/>
    <wire from="(380,570)" to="(380,580)"/>
    <wire from="(180,450)" to="(230,450)"/>
    <wire from="(420,610)" to="(420,620)"/>
    <wire from="(410,600)" to="(410,610)"/>
    <wire from="(400,910)" to="(400,920)"/>
    <wire from="(380,1610)" to="(380,1620)"/>
    <wire from="(410,1640)" to="(410,1650)"/>
    <wire from="(420,1650)" to="(420,1660)"/>
    <wire from="(690,630)" to="(750,630)"/>
    <wire from="(240,550)" to="(240,1330)"/>
    <wire from="(690,630)" to="(690,980)"/>
    <wire from="(420,1320)" to="(530,1320)"/>
    <wire from="(650,360)" to="(750,360)"/>
    <wire from="(1080,660)" to="(1080,730)"/>
    <wire from="(470,30)" to="(510,30)"/>
    <wire from="(420,1100)" to="(510,1100)"/>
    <wire from="(720,290)" to="(750,290)"/>
    <wire from="(150,210)" to="(170,210)"/>
    <wire from="(390,1020)" to="(400,1020)"/>
    <wire from="(450,300)" to="(450,480)"/>
    <wire from="(560,410)" to="(560,1620)"/>
    <wire from="(960,470)" to="(970,470)"/>
    <wire from="(1010,440)" to="(1020,440)"/>
    <wire from="(260,1110)" to="(390,1110)"/>
    <wire from="(710,300)" to="(710,610)"/>
    <wire from="(670,340)" to="(670,650)"/>
    <wire from="(630,380)" to="(630,690)"/>
    <wire from="(590,420)" to="(590,730)"/>
    <comp lib="4" loc="(420,990)" name="Register">
      <a name="label" val="$v1"/>
      <a name="labelfont" val="SansSerif bold 14"/>
    </comp>
    <comp lib="0" loc="(510,30)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="8"/>
      <a name="label" val="ReadData1"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(1010,160)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="24"/>
      <a name="tristate" val="false"/>
      <a name="label" val="$t1:$t0:$sp"/>
      <a name="labelloc" val="south"/>
      <a name="labelfont" val="SansSerif bold 14"/>
    </comp>
    <comp lib="0" loc="(770,460)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="width" val="4"/>
      <a name="label" val="S1"/>
    </comp>
    <comp lib="4" loc="(420,1200)" name="Register">
      <a name="label" val="$v3"/>
      <a name="labelfont" val="SansSerif bold 14"/>
    </comp>
    <comp lib="0" loc="(150,180)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(920,690)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="D1"/>
    </comp>
    <comp lib="0" loc="(150,150)" name="Pin">
      <a name="width" val="8"/>
      <a name="tristate" val="false"/>
      <a name="label" val="WriteData"/>
    </comp>
    <comp lib="3" loc="(960,390)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="0" loc="(370,370)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="WD"/>
    </comp>
    <comp lib="0" loc="(390,820)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(420,720)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(510,70)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="8"/>
      <a name="label" val="ReadData2"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(940,130)" name="Splitter">
      <a name="facing" val="west"/>
      <a name="fanout" val="3"/>
      <a name="incoming" val="24"/>
      <a name="bit1" val="0"/>
      <a name="bit2" val="0"/>
      <a name="bit3" val="0"/>
      <a name="bit4" val="0"/>
      <a name="bit5" val="0"/>
      <a name="bit6" val="0"/>
      <a name="bit7" val="0"/>
      <a name="bit8" val="1"/>
      <a name="bit9" val="1"/>
      <a name="bit10" val="1"/>
      <a name="bit11" val="1"/>
      <a name="bit12" val="1"/>
      <a name="bit13" val="1"/>
      <a name="bit14" val="1"/>
      <a name="bit15" val="1"/>
      <a name="bit16" val="2"/>
      <a name="bit17" val="2"/>
      <a name="bit18" val="2"/>
      <a name="bit19" val="2"/>
      <a name="bit20" val="2"/>
      <a name="bit21" val="2"/>
      <a name="bit22" val="2"/>
      <a name="bit23" val="2"/>
    </comp>
    <comp lib="4" loc="(420,780)" name="Register">
      <a name="label" val="$sp"/>
      <a name="labelfont" val="SansSerif bold 14"/>
    </comp>
    <comp lib="4" loc="(420,1420)" name="Register">
      <a name="label" val="$s1"/>
      <a name="labelfont" val="SansSerif bold 14"/>
    </comp>
    <comp lib="0" loc="(920,770)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="D1"/>
    </comp>
    <comp lib="0" loc="(370,270)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="WD"/>
    </comp>
    <comp lib="1" loc="(1000,470)" name="NOT Gate"/>
    <comp lib="4" loc="(420,1720)" name="Register">
      <a name="label" val="$io"/>
      <a name="labelfont" val="SansSerif bold 14"/>
    </comp>
    <comp lib="4" loc="(420,280)" name="Register">
      <a name="label" val="$t1"/>
      <a name="labelfont" val="SansSerif bold 14"/>
    </comp>
    <comp lib="0" loc="(390,1030)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(390,1660)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="4" loc="(420,1620)" name="Register">
      <a name="label" val="$s3"/>
      <a name="labelfont" val="SansSerif bold 14"/>
    </comp>
    <comp lib="0" loc="(420,1240)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(920,710)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="S2"/>
    </comp>
    <comp lib="2" loc="(790,350)" name="Multiplexer">
      <a name="select" val="4"/>
      <a name="width" val="8"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="4" loc="(420,1100)" name="Register">
      <a name="label" val="$v2"/>
      <a name="labelfont" val="SansSerif bold 14"/>
    </comp>
    <comp lib="4" loc="(420,890)" name="Register">
      <a name="label" val="$v0"/>
      <a name="labelfont" val="SansSerif bold 14"/>
    </comp>
    <comp lib="0" loc="(910,460)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="D1"/>
    </comp>
    <comp lib="0" loc="(150,90)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="Src-1"/>
    </comp>
    <comp lib="0" loc="(370,470)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="WD"/>
    </comp>
    <comp lib="0" loc="(370,670)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="WD"/>
    </comp>
    <comp lib="4" loc="(420,1520)" name="Register">
      <a name="label" val="$s2"/>
      <a name="labelfont" val="SansSerif bold 14"/>
    </comp>
    <comp lib="0" loc="(420,1460)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="2" loc="(1090,760)" name="Multiplexer">
      <a name="facing" val="south"/>
      <a name="width" val="8"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="0" loc="(370,1090)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="WD"/>
    </comp>
    <comp lib="0" loc="(420,1140)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(120,520)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="RegWrite"/>
    </comp>
    <comp lib="0" loc="(370,1610)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="WD"/>
    </comp>
    <comp lib="0" loc="(370,980)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="WD"/>
    </comp>
    <comp lib="6" loc="(1176,117)" name="Text">
      <a name="text" val="DEBUG VALUES"/>
      <a name="font" val="SansSerif bold 14"/>
    </comp>
    <comp lib="3" loc="(970,780)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="0" loc="(370,1710)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="WD"/>
    </comp>
    <comp lib="0" loc="(420,1660)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="4" loc="(420,1320)" name="Register">
      <a name="label" val="$s0"/>
      <a name="labelfont" val="SansSerif bold 14"/>
    </comp>
    <comp lib="1" loc="(1060,740)" name="AND Gate">
      <a name="size" val="30"/>
      <a name="inputs" val="3"/>
    </comp>
    <comp lib="0" loc="(390,620)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="1" loc="(1010,780)" name="NOT Gate"/>
    <comp lib="0" loc="(170,30)" name="Tunnel">
      <a name="label" val="RegWrite"/>
    </comp>
    <comp lib="0" loc="(920,790)" name="Constant">
      <a name="width" val="4"/>
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="0" loc="(390,1760)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(170,90)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="S1"/>
    </comp>
    <comp lib="0" loc="(390,520)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(150,30)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="RegWrite"/>
    </comp>
    <comp lib="0" loc="(150,60)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="Dest-1"/>
    </comp>
    <comp lib="0" loc="(370,880)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="WD"/>
    </comp>
    <comp lib="4" loc="(420,580)" name="Register">
      <a name="label" val="$t4"/>
      <a name="labelfont" val="SansSerif bold 14"/>
    </comp>
    <comp lib="0" loc="(150,120)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="Src-2"/>
    </comp>
    <comp lib="0" loc="(910,400)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="S1"/>
    </comp>
    <comp lib="4" loc="(420,680)" name="Register">
      <a name="label" val="$t0"/>
      <a name="labelfont" val="SansSerif bold 14"/>
    </comp>
    <comp lib="0" loc="(970,740)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="RegWrite"/>
    </comp>
    <comp lib="4" loc="(420,480)" name="Register">
      <a name="label" val="$t3"/>
      <a name="labelfont" val="SansSerif bold 14"/>
    </comp>
    <comp lib="0" loc="(370,1510)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="WD"/>
    </comp>
    <comp lib="4" loc="(420,380)" name="Register">
      <a name="label" val="$t2"/>
      <a name="labelfont" val="SansSerif bold 14"/>
    </comp>
    <comp lib="2" loc="(1080,450)" name="Multiplexer">
      <a name="facing" val="south"/>
      <a name="width" val="8"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="0" loc="(390,1460)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(390,1560)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(150,210)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(390,930)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(420,420)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(370,1410)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="WD"/>
    </comp>
    <comp lib="0" loc="(470,70)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="READ_DATA_2"/>
    </comp>
    <comp lib="2" loc="(140,520)" name="Demultiplexer">
      <a name="select" val="4"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="0" loc="(970,160)" name="Splitter">
      <a name="facing" val="west"/>
      <a name="fanout" val="3"/>
      <a name="incoming" val="24"/>
      <a name="bit0" val="2"/>
      <a name="bit1" val="2"/>
      <a name="bit3" val="2"/>
      <a name="bit4" val="2"/>
      <a name="bit5" val="2"/>
      <a name="bit6" val="2"/>
      <a name="bit7" val="2"/>
      <a name="bit8" val="1"/>
      <a name="bit9" val="1"/>
      <a name="bit10" val="1"/>
      <a name="bit11" val="1"/>
      <a name="bit12" val="1"/>
      <a name="bit13" val="1"/>
      <a name="bit14" val="1"/>
      <a name="bit15" val="1"/>
      <a name="bit16" val="0"/>
      <a name="bit17" val="0"/>
      <a name="bit18" val="0"/>
      <a name="bit19" val="0"/>
      <a name="bit20" val="0"/>
      <a name="bit21" val="0"/>
      <a name="bit22" val="0"/>
      <a name="bit23" val="0"/>
    </comp>
    <comp lib="0" loc="(370,570)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="WD"/>
    </comp>
    <comp lib="0" loc="(420,320)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(420,200)" name="Constant">
      <a name="width" val="8"/>
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="0" loc="(420,620)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(770,770)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="width" val="4"/>
      <a name="label" val="S2"/>
    </comp>
    <comp lib="0" loc="(420,1360)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(370,1190)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="WD"/>
    </comp>
    <comp lib="0" loc="(390,1360)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="3" loc="(960,470)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="0" loc="(390,320)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(960,430)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="RegWrite"/>
    </comp>
    <comp lib="1" loc="(1050,430)" name="AND Gate">
      <a name="size" val="30"/>
      <a name="inputs" val="3"/>
    </comp>
    <comp lib="0" loc="(390,1140)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(170,120)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="S2"/>
    </comp>
    <comp lib="0" loc="(420,1560)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(370,1310)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="WD"/>
    </comp>
    <comp lib="0" loc="(1100,710)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="width" val="8"/>
      <a name="label" val="WD"/>
    </comp>
    <comp lib="0" loc="(160,630)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="width" val="4"/>
      <a name="label" val="D1"/>
    </comp>
    <comp lib="0" loc="(910,480)" name="Constant">
      <a name="width" val="4"/>
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="0" loc="(1010,60)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="24"/>
      <a name="tristate" val="false"/>
      <a name="label" val="$t4:$t3:$t2"/>
      <a name="labelloc" val="south"/>
      <a name="labelfont" val="SansSerif bold 14"/>
    </comp>
    <comp lib="0" loc="(910,380)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="D1"/>
    </comp>
    <comp lib="0" loc="(420,1760)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(390,1240)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(420,820)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="2" loc="(790,660)" name="Multiplexer">
      <a name="select" val="4"/>
      <a name="width" val="8"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="0" loc="(1090,400)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="width" val="8"/>
      <a name="label" val="WD"/>
    </comp>
    <comp lib="0" loc="(370,770)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="WD"/>
    </comp>
    <comp lib="0" loc="(420,520)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(170,150)" name="Tunnel">
      <a name="width" val="8"/>
      <a name="label" val="WD"/>
    </comp>
    <comp lib="0" loc="(390,420)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(170,180)" name="Tunnel">
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(470,30)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="8"/>
      <a name="label" val="READ_DATA_1"/>
    </comp>
    <comp lib="0" loc="(170,60)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="D1"/>
    </comp>
    <comp lib="3" loc="(970,700)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="0" loc="(1080,500)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="width" val="8"/>
      <a name="label" val="READ_DATA_1"/>
    </comp>
    <comp lib="0" loc="(420,930)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(420,1030)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(390,720)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(1090,810)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="width" val="8"/>
      <a name="label" val="READ_DATA_2"/>
    </comp>
    <comp lib="0" loc="(170,210)" name="Tunnel">
      <a name="label" val="CLR"/>
    </comp>
  </circuit>
  <circuit name="MEM">
    <a name="circuit" val="MEM"/>
    <a name="clabel" val=""/>
    <a name="clabelup" val="east"/>
    <a name="clabelfont" val="SansSerif plain 12"/>
    <appear>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="170" y="192">CLR</text>
      <rect fill="none" height="150" stroke="#000000" stroke-width="2" width="160" x="50" y="50"/>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="176" y="65">MemWrite</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="174" y="122">Read Data</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="77" y="65">MemRead</text>
      <text font-family="SansSerif" font-size="14" font-weight="bold" text-anchor="middle" x="157" y="93">Memory</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="76" y="103">Address</text>
      <polyline fill="none" points="81,200 90,191 100,201" stroke="#000000"/>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="82" y="134">Write Data</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="90" y="188">CLK</text>
      <circ-port height="8" pin="280,150" width="8" x="46" y="96"/>
      <circ-port height="8" pin="280,190" width="8" x="46" y="126"/>
      <circ-port height="10" pin="580,160" width="10" x="205" y="115"/>
      <circ-port height="8" pin="400,340" width="8" x="176" y="46"/>
      <circ-port height="8" pin="440,270" width="8" x="86" y="196"/>
      <circ-port height="8" pin="460,340" width="8" x="76" y="46"/>
      <circ-port height="8" pin="480,270" width="8" x="166" y="196"/>
      <circ-anchor facing="east" height="6" width="6" x="207" y="117"/>
    </appear>
    <wire from="(440,200)" to="(440,270)"/>
    <wire from="(480,200)" to="(480,270)"/>
    <wire from="(420,200)" to="(420,220)"/>
    <wire from="(280,190)" to="(290,190)"/>
    <wire from="(280,150)" to="(290,150)"/>
    <wire from="(290,180)" to="(370,180)"/>
    <wire from="(290,160)" to="(370,160)"/>
    <wire from="(400,200)" to="(400,340)"/>
    <wire from="(460,200)" to="(460,340)"/>
    <wire from="(510,160)" to="(580,160)"/>
    <wire from="(290,150)" to="(290,160)"/>
    <wire from="(290,180)" to="(290,190)"/>
    <comp lib="0" loc="(280,190)" name="Pin">
      <a name="width" val="8"/>
      <a name="tristate" val="false"/>
      <a name="label" val="WriteData"/>
    </comp>
    <comp lib="0" loc="(420,220)" name="Constant">
      <a name="facing" val="north"/>
    </comp>
    <comp lib="0" loc="(280,150)" name="Pin">
      <a name="width" val="8"/>
      <a name="tristate" val="false"/>
      <a name="label" val="Address"/>
    </comp>
    <comp lib="0" loc="(400,340)" name="Pin">
      <a name="facing" val="north"/>
      <a name="tristate" val="false"/>
      <a name="label" val="MemWrite"/>
    </comp>
    <comp lib="4" loc="(510,160)" name="RAM">
      <a name="bus" val="separate"/>
    </comp>
    <comp lib="0" loc="(440,270)" name="Pin">
      <a name="facing" val="north"/>
      <a name="tristate" val="false"/>
      <a name="label" val="CLK"/>
      <a name="labelloc" val="south"/>
    </comp>
    <comp lib="0" loc="(580,160)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="8"/>
      <a name="tristate" val="false"/>
      <a name="label" val="Data Read"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(460,340)" name="Pin">
      <a name="facing" val="north"/>
      <a name="tristate" val="false"/>
      <a name="label" val="MemRead"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(480,270)" name="Pin">
      <a name="facing" val="north"/>
      <a name="tristate" val="false"/>
      <a name="label" val="CLR"/>
      <a name="labelloc" val="south"/>
    </comp>
  </circuit>
  <circuit name="CNTRL">
    <a name="circuit" val="CNTRL"/>
    <a name="clabel" val=""/>
    <a name="clabelup" val="east"/>
    <a name="clabelfont" val="SansSerif plain 12"/>
    <appear>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="284" y="104">RegDst</text>
      <ellipse cx="210.0" cy="60.0" fill="none" rx="10.0" ry="10.0" stroke="#000000" stroke-width="2"/>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="274" y="243">MemToReg</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="278" y="133">MemRead</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="285" y="64">ALUOp</text>
      <rect fill="none" height="240" stroke="#000000" stroke-width="2" width="120" x="190" y="40"/>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="284" y="84">ALUSrc</text>
      <text font-family="SansSerif" font-size="14" font-weight="bold" text-anchor="middle" x="225" y="88">Control</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="288" y="174">BNEQ</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="217" y="244">OpCode</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="292" y="194">BEQ</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="288" y="223">Jump</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="279" y="153">MemWrite</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="280" y="264">RegWrite</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="208" y="184">NOP</text>
      <circ-port height="8" pin="200,180" width="8" x="186" y="236"/>
      <circ-port height="10" pin="850,110" width="10" x="305" y="95"/>
      <circ-port height="10" pin="850,140" width="10" x="305" y="75"/>
      <circ-port height="10" pin="850,170" width="10" x="305" y="235"/>
      <circ-port height="10" pin="850,200" width="10" x="305" y="255"/>
      <circ-port height="10" pin="850,230" width="10" x="305" y="125"/>
      <circ-port height="10" pin="850,250" width="10" x="305" y="145"/>
      <circ-port height="10" pin="850,280" width="10" x="305" y="185"/>
      <circ-port height="10" pin="850,300" width="10" x="305" y="165"/>
      <circ-port height="10" pin="850,320" width="10" x="305" y="215"/>
      <circ-port height="10" pin="850,350" width="10" x="305" y="55"/>
      <circ-port height="8" pin="200,300" width="8" x="186" y="176"/>
      <circ-anchor facing="east" height="6" width="6" x="307" y="57"/>
    </appear>
    <wire from="(730,320)" to="(850,320)"/>
    <wire from="(670,110)" to="(850,110)"/>
    <wire from="(640,210)" to="(690,210)"/>
    <wire from="(440,180)" to="(620,180)"/>
    <wire from="(640,220)" to="(700,220)"/>
    <wire from="(350,220)" to="(350,230)"/>
    <wire from="(640,200)" to="(680,200)"/>
    <wire from="(680,290)" to="(720,290)"/>
    <wire from="(700,190)" to="(700,220)"/>
    <wire from="(750,250)" to="(750,280)"/>
    <wire from="(640,260)" to="(740,260)"/>
    <wire from="(700,190)" to="(800,190)"/>
    <wire from="(750,280)" to="(850,280)"/>
    <wire from="(740,300)" to="(850,300)"/>
    <wire from="(670,110)" to="(670,190)"/>
    <wire from="(640,250)" to="(750,250)"/>
    <wire from="(680,140)" to="(850,140)"/>
    <wire from="(200,180)" to="(300,180)"/>
    <wire from="(830,250)" to="(850,250)"/>
    <wire from="(830,200)" to="(850,200)"/>
    <wire from="(690,170)" to="(690,210)"/>
    <wire from="(740,260)" to="(740,300)"/>
    <wire from="(640,300)" to="(660,300)"/>
    <wire from="(640,280)" to="(660,280)"/>
    <wire from="(640,290)" to="(660,290)"/>
    <wire from="(640,230)" to="(850,230)"/>
    <wire from="(640,240)" to="(800,240)"/>
    <wire from="(690,170)" to="(850,170)"/>
    <wire from="(640,190)" to="(670,190)"/>
    <wire from="(640,270)" to="(730,270)"/>
    <wire from="(720,350)" to="(850,350)"/>
    <wire from="(200,300)" to="(210,300)"/>
    <wire from="(240,300)" to="(250,300)"/>
    <wire from="(680,140)" to="(680,200)"/>
    <wire from="(720,290)" to="(720,350)"/>
    <wire from="(730,270)" to="(730,320)"/>
    <wire from="(790,260)" to="(800,260)"/>
    <wire from="(790,210)" to="(800,210)"/>
    <comp lib="0" loc="(250,300)" name="Tunnel">
      <a name="label" val="NOP"/>
    </comp>
    <comp lib="0" loc="(200,180)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="OP Code"/>
      <a name="labelloc" val="north"/>
      <a name="labelfont" val="SansSerif bold 10"/>
    </comp>
    <comp lib="0" loc="(850,350)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="3"/>
      <a name="label" val="ALUOp"/>
      <a name="labelloc" val="east"/>
      <a name="labelfont" val="SansSerif bold 10"/>
    </comp>
    <comp lib="0" loc="(200,300)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="NOP"/>
    </comp>
    <comp lib="0" loc="(850,110)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="RegDst"/>
      <a name="labelloc" val="east"/>
      <a name="labelfont" val="SansSerif bold 10"/>
    </comp>
    <comp lib="0" loc="(850,250)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="MemWrite"/>
      <a name="labelloc" val="east"/>
      <a name="labelfont" val="SansSerif bold 10"/>
    </comp>
    <comp lib="0" loc="(790,260)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="NOP"/>
    </comp>
    <comp lib="0" loc="(620,180)" name="Splitter">
      <a name="fanout" val="12"/>
      <a name="incoming" val="12"/>
      <a name="appear" val="right"/>
      <a name="bit0" val="11"/>
      <a name="bit1" val="10"/>
      <a name="bit2" val="9"/>
      <a name="bit3" val="8"/>
      <a name="bit4" val="7"/>
      <a name="bit5" val="6"/>
      <a name="bit6" val="5"/>
      <a name="bit7" val="4"/>
      <a name="bit8" val="3"/>
      <a name="bit9" val="2"/>
      <a name="bit10" val="1"/>
      <a name="bit11" val="0"/>
    </comp>
    <comp lib="1" loc="(240,300)" name="NOT Gate"/>
    <comp lib="4" loc="(440,180)" name="ROM">
      <a name="addrWidth" val="4"/>
      <a name="dataWidth" val="12"/>
      <a name="contents">addr/data: 4 12
901 506 503 502 904 11 903 21
c40 501 500 505 900 780 902 8
</a>
    </comp>
    <comp lib="1" loc="(830,200)" name="AND Gate">
      <a name="size" val="30"/>
      <a name="inputs" val="2"/>
    </comp>
    <comp lib="0" loc="(850,280)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="beq"/>
      <a name="labelloc" val="east"/>
      <a name="labelfont" val="SansSerif bold 10"/>
    </comp>
    <comp lib="0" loc="(680,290)" name="Splitter">
      <a name="facing" val="west"/>
      <a name="fanout" val="3"/>
      <a name="incoming" val="3"/>
      <a name="appear" val="center"/>
      <a name="bit0" val="2"/>
      <a name="bit2" val="0"/>
    </comp>
    <comp lib="0" loc="(850,230)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="MemRead"/>
      <a name="labelloc" val="east"/>
      <a name="labelfont" val="SansSerif bold 10"/>
    </comp>
    <comp lib="0" loc="(850,320)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="Jump"/>
      <a name="labelloc" val="east"/>
      <a name="labelfont" val="SansSerif bold 10"/>
    </comp>
    <comp lib="0" loc="(790,210)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="NOP"/>
    </comp>
    <comp lib="0" loc="(850,170)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="MemToReg"/>
      <a name="labelloc" val="east"/>
      <a name="labelfont" val="SansSerif bold 10"/>
    </comp>
    <comp lib="0" loc="(850,200)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="RegWrite"/>
      <a name="labelloc" val="east"/>
      <a name="labelfont" val="SansSerif bold 10"/>
    </comp>
    <comp lib="1" loc="(830,250)" name="AND Gate">
      <a name="size" val="30"/>
      <a name="inputs" val="2"/>
    </comp>
    <comp lib="0" loc="(850,140)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="ALUSrc"/>
      <a name="labelloc" val="east"/>
      <a name="labelfont" val="SansSerif bold 10"/>
    </comp>
    <comp lib="0" loc="(850,300)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="bneq"/>
      <a name="labelloc" val="east"/>
      <a name="labelfont" val="SansSerif bold 10"/>
    </comp>
    <comp lib="0" loc="(350,230)" name="Constant">
      <a name="facing" val="north"/>
    </comp>
  </circuit>
  <circuit name="IF/ID">
    <a name="circuit" val="IF/ID"/>
    <a name="clabel" val=""/>
    <a name="clabelup" val="east"/>
    <a name="clabelfont" val="SansSerif plain 12"/>
    <appear>
      <path d="M70,40 Q86,54 102,40" fill="none" stroke="#808080" stroke-width="2"/>
      <rect fill="none" height="440" stroke="#000000" stroke-width="2" width="70" x="50" y="40"/>
      <text font-family="SansSerif" font-size="16" font-weight="bold" text-anchor="middle" x="88" y="68">IF/ID</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="85" y="223">Instruction</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="101" y="470">CLR</text>
      <polyline fill="none" points="60,480 70,470 80,480" stroke="#000000" stroke-width="2"/>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="70" y="463">CLK</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="86" y="145">PC + 1</text>
      <text font-family="SansSerif" font-size="13" text-anchor="middle" x="100" y="104">Stall</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="73" y="434">FLUSH</text>
      <circ-port height="8" pin="310,360" width="8" x="46" y="216"/>
      <circ-port height="10" pin="590,370" width="10" x="115" y="215"/>
      <circ-port height="8" pin="310,200" width="8" x="46" y="136"/>
      <circ-port height="10" pin="590,210" width="10" x="115" y="135"/>
      <circ-port height="8" pin="380,560" width="8" x="66" y="476"/>
      <circ-port height="8" pin="600,560" width="8" x="96" y="476"/>
      <circ-port height="8" pin="440,80" width="8" x="116" y="96"/>
      <circ-port height="8" pin="460,610" width="8" x="46" y="426"/>
      <circ-anchor facing="east" height="6" width="6" x="117" y="217"/>
    </appear>
    <wire from="(410,370)" to="(470,370)"/>
    <wire from="(460,610)" to="(510,610)"/>
    <wire from="(390,390)" to="(390,400)"/>
    <wire from="(470,410)" to="(470,420)"/>
    <wire from="(500,410)" to="(500,420)"/>
    <wire from="(470,250)" to="(470,260)"/>
    <wire from="(500,250)" to="(500,260)"/>
    <wire from="(460,220)" to="(460,230)"/>
    <wire from="(350,230)" to="(350,240)"/>
    <wire from="(600,560)" to="(640,560)"/>
    <wire from="(480,230)" to="(480,250)"/>
    <wire from="(490,230)" to="(490,250)"/>
    <wire from="(490,390)" to="(490,410)"/>
    <wire from="(480,390)" to="(480,410)"/>
    <wire from="(440,380)" to="(440,460)"/>
    <wire from="(370,210)" to="(470,210)"/>
    <wire from="(380,560)" to="(420,560)"/>
    <wire from="(440,80)" to="(480,80)"/>
    <wire from="(500,370)" to="(590,370)"/>
    <wire from="(500,210)" to="(590,210)"/>
    <wire from="(440,380)" to="(470,380)"/>
    <wire from="(510,80)" to="(540,80)"/>
    <wire from="(310,200)" to="(340,200)"/>
    <wire from="(320,220)" to="(340,220)"/>
    <wire from="(360,380)" to="(380,380)"/>
    <wire from="(430,460)" to="(440,460)"/>
    <wire from="(450,230)" to="(460,230)"/>
    <wire from="(470,410)" to="(480,410)"/>
    <wire from="(490,410)" to="(500,410)"/>
    <wire from="(470,250)" to="(480,250)"/>
    <wire from="(490,250)" to="(500,250)"/>
    <wire from="(460,220)" to="(470,220)"/>
    <wire from="(310,360)" to="(380,360)"/>
    <comp lib="0" loc="(460,610)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="FLUSH"/>
    </comp>
    <comp lib="0" loc="(380,560)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(590,370)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="20"/>
      <a name="label" val="Instruction"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="1" loc="(510,80)" name="NOT Gate"/>
    <comp lib="0" loc="(420,560)" name="Tunnel">
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(470,260)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="4" loc="(500,210)" name="Register">
      <a name="label" val="PC"/>
    </comp>
    <comp lib="0" loc="(430,460)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="EnableWrite"/>
    </comp>
    <comp lib="0" loc="(470,420)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="4" loc="(500,370)" name="Register">
      <a name="width" val="20"/>
      <a name="label" val="IF/ID_REG"/>
    </comp>
    <comp lib="0" loc="(350,240)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="FLUSH"/>
    </comp>
    <comp lib="0" loc="(640,560)" name="Tunnel">
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(600,560)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(510,610)" name="Tunnel">
      <a name="label" val="FLUSH"/>
    </comp>
    <comp lib="0" loc="(500,420)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="2" loc="(370,210)" name="Multiplexer">
      <a name="width" val="8"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="0" loc="(440,80)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="Stall"/>
    </comp>
    <comp lib="0" loc="(360,380)" name="Constant">
      <a name="width" val="20"/>
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="0" loc="(450,230)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="EnableWrite"/>
    </comp>
    <comp lib="0" loc="(500,260)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(590,210)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="8"/>
      <a name="label" val="PC"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(310,360)" name="Pin">
      <a name="width" val="20"/>
      <a name="tristate" val="false"/>
      <a name="label" val="Instruction"/>
    </comp>
    <comp lib="0" loc="(540,80)" name="Tunnel">
      <a name="label" val="EnableWrite"/>
    </comp>
    <comp lib="2" loc="(410,370)" name="Multiplexer">
      <a name="width" val="20"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="0" loc="(320,220)" name="Constant">
      <a name="width" val="8"/>
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="0" loc="(310,200)" name="Pin">
      <a name="width" val="8"/>
      <a name="tristate" val="false"/>
      <a name="label" val="PC"/>
    </comp>
    <comp lib="0" loc="(390,400)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="FLUSH"/>
    </comp>
  </circuit>
  <circuit name="ID/EX">
    <a name="circuit" val="ID/EX"/>
    <a name="clabel" val=""/>
    <a name="clabelup" val="east"/>
    <a name="clabelfont" val="SansSerif plain 12"/>
    <appear>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="68" y="676">CLK</text>
      <text font-family="SansSerif" font-size="16" font-weight="bold" text-anchor="middle" x="86" y="86">ID/EX</text>
      <path d="M70,51 Q86,65 102,51" fill="none" stroke="#808080" stroke-width="2"/>
      <polyline fill="none" points="60,690 70,680 80,690" stroke="#000000" stroke-width="2"/>
      <rect fill="none" height="640" stroke="#000000" stroke-width="2" width="70" x="50" y="50"/>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="101" y="680">CLR</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="86" y="386">RD1</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="84" y="504">IMM</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="84" y="445">RD2</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="85" y="605">RT SRC 2</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="85" y="625">RD DEST 1</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="84" y="586">RS SRC 1</text>
      <text font-family="SansSerif" font-size="10" text-anchor="middle" x="86" y="284">MemToReg</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="86" y="194">MemWrite</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="86" y="304">RegWrite</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="85" y="174">MemRead</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="87" y="106">ALUOp</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="86" y="126">ALUSrc</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="87" y="144">RegDst</text>
      <circ-port height="8" pin="440,1340" width="8" x="46" y="376"/>
      <circ-port height="8" pin="440,1460" width="8" x="46" y="436"/>
      <circ-port height="8" pin="440,1580" width="8" x="46" y="496"/>
      <circ-port height="8" pin="440,1910" width="8" x="46" y="596"/>
      <circ-port height="8" pin="380,2020" width="8" x="66" y="686"/>
      <circ-port height="8" pin="610,2020" width="8" x="96" y="686"/>
      <circ-port height="10" pin="640,1340" width="10" x="115" y="375"/>
      <circ-port height="10" pin="640,1460" width="10" x="115" y="435"/>
      <circ-port height="10" pin="640,1580" width="10" x="115" y="495"/>
      <circ-port height="10" pin="640,1910" width="10" x="115" y="595"/>
      <circ-port height="8" pin="440,1800" width="8" x="46" y="616"/>
      <circ-port height="10" pin="640,1800" width="10" x="115" y="615"/>
      <circ-port height="8" pin="440,1690" width="8" x="46" y="576"/>
      <circ-port height="10" pin="640,1690" width="10" x="115" y="575"/>
      <circ-port height="8" pin="440,410" width="8" x="46" y="166"/>
      <circ-port height="10" pin="640,410" width="10" x="115" y="165"/>
      <circ-port height="8" pin="440,520" width="8" x="46" y="186"/>
      <circ-port height="10" pin="640,520" width="10" x="115" y="185"/>
      <circ-port height="8" pin="440,960" width="8" x="46" y="276"/>
      <circ-port height="10" pin="640,960" width="10" x="115" y="275"/>
      <circ-port height="8" pin="440,1070" width="8" x="46" y="296"/>
      <circ-port height="10" pin="640,1070" width="10" x="115" y="295"/>
      <circ-port height="10" pin="640,60" width="10" x="115" y="95"/>
      <circ-port height="8" pin="440,60" width="8" x="46" y="96"/>
      <circ-port height="8" pin="440,170" width="8" x="46" y="116"/>
      <circ-port height="10" pin="640,170" width="10" x="115" y="115"/>
      <circ-port height="8" pin="440,280" width="8" x="46" y="136"/>
      <circ-port height="10" pin="640,280" width="10" x="115" y="135"/>
      <circ-anchor facing="east" height="6" width="6" x="117" y="167"/>
    </appear>
    <wire from="(550,550)" to="(550,560)"/>
    <wire from="(520,1720)" to="(520,1730)"/>
    <wire from="(550,310)" to="(550,320)"/>
    <wire from="(540,300)" to="(540,310)"/>
    <wire from="(550,990)" to="(550,1000)"/>
    <wire from="(530,1930)" to="(530,1940)"/>
    <wire from="(540,980)" to="(540,990)"/>
    <wire from="(530,1090)" to="(530,1100)"/>
    <wire from="(540,540)" to="(540,550)"/>
    <wire from="(520,440)" to="(520,450)"/>
    <wire from="(540,1820)" to="(540,1830)"/>
    <wire from="(550,1830)" to="(550,1840)"/>
    <wire from="(520,200)" to="(520,210)"/>
    <wire from="(550,280)" to="(640,280)"/>
    <wire from="(550,960)" to="(640,960)"/>
    <wire from="(550,520)" to="(640,520)"/>
    <wire from="(550,1800)" to="(640,1800)"/>
    <wire from="(510,70)" to="(520,70)"/>
    <wire from="(520,200)" to="(530,200)"/>
    <wire from="(440,60)" to="(520,60)"/>
    <wire from="(440,1340)" to="(520,1340)"/>
    <wire from="(440,1580)" to="(520,1580)"/>
    <wire from="(440,1460)" to="(520,1460)"/>
    <wire from="(510,1470)" to="(520,1470)"/>
    <wire from="(510,1590)" to="(520,1590)"/>
    <wire from="(510,1350)" to="(520,1350)"/>
    <wire from="(540,1100)" to="(550,1100)"/>
    <wire from="(520,1720)" to="(530,1720)"/>
    <wire from="(520,440)" to="(530,440)"/>
    <wire from="(540,1940)" to="(550,1940)"/>
    <wire from="(520,1370)" to="(520,1380)"/>
    <wire from="(550,440)" to="(550,450)"/>
    <wire from="(530,1820)" to="(530,1830)"/>
    <wire from="(520,1490)" to="(520,1500)"/>
    <wire from="(520,1610)" to="(520,1620)"/>
    <wire from="(530,980)" to="(530,990)"/>
    <wire from="(530,300)" to="(530,310)"/>
    <wire from="(530,540)" to="(530,550)"/>
    <wire from="(540,190)" to="(540,200)"/>
    <wire from="(550,200)" to="(550,210)"/>
    <wire from="(540,430)" to="(540,440)"/>
    <wire from="(540,1710)" to="(540,1720)"/>
    <wire from="(550,1720)" to="(550,1730)"/>
    <wire from="(610,2020)" to="(660,2020)"/>
    <wire from="(520,90)" to="(520,100)"/>
    <wire from="(550,170)" to="(640,170)"/>
    <wire from="(550,410)" to="(640,410)"/>
    <wire from="(550,1690)" to="(640,1690)"/>
    <wire from="(520,90)" to="(530,90)"/>
    <wire from="(440,1070)" to="(520,1070)"/>
    <wire from="(440,1910)" to="(520,1910)"/>
    <wire from="(540,550)" to="(550,550)"/>
    <wire from="(520,1370)" to="(530,1370)"/>
    <wire from="(540,310)" to="(550,310)"/>
    <wire from="(510,1080)" to="(520,1080)"/>
    <wire from="(520,1490)" to="(530,1490)"/>
    <wire from="(510,1920)" to="(520,1920)"/>
    <wire from="(520,1610)" to="(530,1610)"/>
    <wire from="(540,990)" to="(550,990)"/>
    <wire from="(540,1830)" to="(550,1830)"/>
    <wire from="(540,1360)" to="(540,1370)"/>
    <wire from="(550,1370)" to="(550,1380)"/>
    <wire from="(520,1940)" to="(520,1950)"/>
    <wire from="(530,1710)" to="(530,1720)"/>
    <wire from="(540,1600)" to="(540,1610)"/>
    <wire from="(540,1480)" to="(540,1490)"/>
    <wire from="(550,90)" to="(550,100)"/>
    <wire from="(520,1100)" to="(520,1110)"/>
    <wire from="(530,190)" to="(530,200)"/>
    <wire from="(530,430)" to="(530,440)"/>
    <wire from="(540,80)" to="(540,90)"/>
    <wire from="(550,1610)" to="(550,1620)"/>
    <wire from="(550,1490)" to="(550,1500)"/>
    <wire from="(550,60)" to="(640,60)"/>
    <wire from="(550,1460)" to="(640,1460)"/>
    <wire from="(550,1340)" to="(640,1340)"/>
    <wire from="(550,1580)" to="(640,1580)"/>
    <wire from="(510,290)" to="(520,290)"/>
    <wire from="(510,530)" to="(520,530)"/>
    <wire from="(440,280)" to="(520,280)"/>
    <wire from="(440,520)" to="(520,520)"/>
    <wire from="(440,960)" to="(520,960)"/>
    <wire from="(440,1800)" to="(520,1800)"/>
    <wire from="(510,1810)" to="(520,1810)"/>
    <wire from="(540,440)" to="(550,440)"/>
    <wire from="(520,1100)" to="(530,1100)"/>
    <wire from="(520,1940)" to="(530,1940)"/>
    <wire from="(540,200)" to="(550,200)"/>
    <wire from="(510,970)" to="(520,970)"/>
    <wire from="(540,1720)" to="(550,1720)"/>
    <wire from="(540,1090)" to="(540,1100)"/>
    <wire from="(530,1600)" to="(530,1610)"/>
    <wire from="(550,1100)" to="(550,1110)"/>
    <wire from="(520,1830)" to="(520,1840)"/>
    <wire from="(530,1360)" to="(530,1370)"/>
    <wire from="(530,1480)" to="(530,1490)"/>
    <wire from="(520,990)" to="(520,1000)"/>
    <wire from="(520,550)" to="(520,560)"/>
    <wire from="(530,80)" to="(530,90)"/>
    <wire from="(520,310)" to="(520,320)"/>
    <wire from="(540,1930)" to="(540,1940)"/>
    <wire from="(550,1940)" to="(550,1950)"/>
    <wire from="(380,2020)" to="(420,2020)"/>
    <wire from="(550,1070)" to="(640,1070)"/>
    <wire from="(550,1910)" to="(640,1910)"/>
    <wire from="(510,180)" to="(520,180)"/>
    <wire from="(510,420)" to="(520,420)"/>
    <wire from="(440,170)" to="(520,170)"/>
    <wire from="(440,410)" to="(520,410)"/>
    <wire from="(440,1690)" to="(520,1690)"/>
    <wire from="(510,1700)" to="(520,1700)"/>
    <wire from="(540,90)" to="(550,90)"/>
    <wire from="(520,310)" to="(530,310)"/>
    <wire from="(520,1830)" to="(530,1830)"/>
    <wire from="(520,990)" to="(530,990)"/>
    <wire from="(520,550)" to="(530,550)"/>
    <wire from="(540,1370)" to="(550,1370)"/>
    <wire from="(540,1610)" to="(550,1610)"/>
    <wire from="(540,1490)" to="(550,1490)"/>
    <comp lib="0" loc="(660,2020)" name="Tunnel">
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="4" loc="(550,1910)" name="Register">
      <a name="width" val="4"/>
      <a name="label" val="DEST REG"/>
    </comp>
    <comp lib="0" loc="(510,530)" name="Power">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(550,1500)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(550,1840)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(510,1350)" name="Power">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(440,1580)" name="Pin">
      <a name="width" val="8"/>
      <a name="tristate" val="false"/>
      <a name="label" val="IMM"/>
    </comp>
    <comp lib="0" loc="(510,1700)" name="Power">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="4" loc="(550,1460)" name="Register">
      <a name="label" val="Reg_Data_2"/>
    </comp>
    <comp lib="0" loc="(550,320)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(640,1070)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="tristate" val="false"/>
      <a name="label" val="REG_WRITE"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(440,1690)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="SRC 1"/>
    </comp>
    <comp lib="0" loc="(510,70)" name="Power">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="4" loc="(550,1340)" name="Register">
      <a name="label" val="Reg_Data_1"/>
    </comp>
    <comp lib="0" loc="(510,1590)" name="Power">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(640,1910)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="4"/>
      <a name="label" val="DEST REG"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(420,2020)" name="Tunnel">
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(510,1920)" name="Power">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(510,180)" name="Power">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(510,970)" name="Power">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(440,1070)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="REG_WRITE"/>
    </comp>
    <comp lib="0" loc="(510,420)" name="Power">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="4" loc="(550,1070)" name="Register">
      <a name="width" val="1"/>
      <a name="label" val="REG_WRITE"/>
    </comp>
    <comp lib="0" loc="(510,290)" name="Power">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(640,1800)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="4"/>
      <a name="label" val="SRC 2"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="4" loc="(550,1800)" name="Register">
      <a name="width" val="4"/>
      <a name="label" val="SRC 2"/>
    </comp>
    <comp lib="0" loc="(550,560)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(520,1000)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(520,1730)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(440,520)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="MEM_WRITE"/>
    </comp>
    <comp lib="0" loc="(610,2020)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(520,320)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="4" loc="(550,280)" name="Register">
      <a name="width" val="1"/>
      <a name="label" val="RegDest"/>
    </comp>
    <comp lib="0" loc="(640,60)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="3"/>
      <a name="tristate" val="false"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(550,1110)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(510,1080)" name="Power">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(550,1950)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(440,1340)" name="Pin">
      <a name="width" val="8"/>
      <a name="tristate" val="false"/>
      <a name="label" val="Reg_Data_1"/>
    </comp>
    <comp lib="0" loc="(640,1340)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="8"/>
      <a name="label" val="Reg_Data_1"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(440,60)" name="Pin">
      <a name="width" val="3"/>
      <a name="tristate" val="false"/>
    </comp>
    <comp lib="0" loc="(550,210)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(440,170)" name="Pin">
      <a name="tristate" val="false"/>
    </comp>
    <comp lib="4" loc="(550,960)" name="Register">
      <a name="width" val="1"/>
      <a name="label" val="MEM_TO_REG"/>
    </comp>
    <comp lib="0" loc="(440,1460)" name="Pin">
      <a name="width" val="8"/>
      <a name="tristate" val="false"/>
      <a name="label" val="Reg_Data_2"/>
    </comp>
    <comp lib="0" loc="(440,1910)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="DEST REG"/>
    </comp>
    <comp lib="0" loc="(520,1110)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(640,410)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="tristate" val="false"/>
      <a name="label" val="MEM_READ"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(640,170)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="tristate" val="false"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(640,960)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="tristate" val="false"/>
      <a name="label" val="MEM_TO_REG"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(550,1000)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(520,1950)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(550,450)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(520,1500)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(520,1380)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="4" loc="(550,170)" name="Register">
      <a name="width" val="1"/>
      <a name="label" val="ALUSrc"/>
    </comp>
    <comp lib="0" loc="(640,1580)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="8"/>
      <a name="label" val="IMM"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(440,960)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="MEM_TO_REG"/>
    </comp>
    <comp lib="4" loc="(550,410)" name="Register">
      <a name="width" val="1"/>
      <a name="label" val="MEM_READ"/>
    </comp>
    <comp lib="0" loc="(380,2020)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(550,1620)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(510,1810)" name="Power">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(640,280)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="tristate" val="false"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(520,100)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="4" loc="(550,1580)" name="Register">
      <a name="label" val="IMM"/>
    </comp>
    <comp lib="0" loc="(640,1460)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="8"/>
      <a name="label" val="Reg_Data_2"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(640,520)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="tristate" val="false"/>
      <a name="label" val="MEM_WRITE"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="4" loc="(550,520)" name="Register">
      <a name="width" val="1"/>
      <a name="label" val="MEM_WRITE"/>
    </comp>
    <comp lib="0" loc="(440,280)" name="Pin">
      <a name="tristate" val="false"/>
    </comp>
    <comp lib="4" loc="(550,60)" name="Register">
      <a name="width" val="3"/>
      <a name="label" val="ALUOp"/>
    </comp>
    <comp lib="0" loc="(520,1840)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(520,210)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(550,1730)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(520,450)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(510,1470)" name="Power">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(520,560)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(520,1620)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="4" loc="(550,1690)" name="Register">
      <a name="width" val="4"/>
      <a name="label" val="SRC 1"/>
    </comp>
    <comp lib="0" loc="(440,410)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="MEM_READ"/>
    </comp>
    <comp lib="0" loc="(550,100)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(440,1800)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="SRC 2"/>
    </comp>
    <comp lib="0" loc="(550,1380)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(640,1690)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="4"/>
      <a name="label" val="SRC 1"/>
      <a name="labelloc" val="east"/>
    </comp>
  </circuit>
  <circuit name="EX/MEM">
    <a name="circuit" val="EX/MEM"/>
    <a name="clabel" val=""/>
    <a name="clabelup" val="east"/>
    <a name="clabelfont" val="SansSerif plain 12"/>
    <appear>
      <text font-family="SansSerif" font-size="14" font-weight="bold" text-anchor="middle" x="85" y="79">EX/MEM</text>
      <rect fill="none" height="510" stroke="#000000" stroke-width="2" width="70" x="50" y="50"/>
      <path d="M70,51 Q86,65 102,51" fill="none" stroke="#808080" stroke-width="2"/>
      <polyline fill="none" points="60,560 70,550 80,560" stroke="#000000" stroke-width="2"/>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="101" y="550">CLR</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="85" y="445">RD2</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="70" y="543">CLK</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="85" y="384">ALU_RES</text>
      <text font-family="SansSerif" font-size="10" text-anchor="middle" x="86" y="214">MemToReg</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="86" y="124">MemWrite</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="86" y="234">RegWrite</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="85" y="104">MemRead</text>
      <text font-family="SansSerif" font-size="10" text-anchor="middle" x="84" y="504">WRITE REG</text>
      <circ-port height="8" pin="420,710" width="8" x="46" y="226"/>
      <circ-port height="8" pin="420,1060" width="8" x="46" y="376"/>
      <circ-port height="8" pin="420,1300" width="8" x="46" y="496"/>
      <circ-port height="8" pin="370,1470" width="8" x="66" y="556"/>
      <circ-port height="8" pin="590,1470" width="8" x="96" y="556"/>
      <circ-port height="10" pin="620,1060" width="10" x="115" y="375"/>
      <circ-port height="10" pin="620,1300" width="10" x="115" y="495"/>
      <circ-port height="8" pin="420,1180" width="8" x="46" y="436"/>
      <circ-port height="10" pin="620,1180" width="10" x="115" y="435"/>
      <circ-port height="8" pin="420,600" width="8" x="46" y="206"/>
      <circ-port height="8" pin="420,160" width="8" x="46" y="116"/>
      <circ-port height="8" pin="420,50" width="8" x="46" y="96"/>
      <circ-port height="10" pin="620,50" width="10" x="115" y="95"/>
      <circ-port height="10" pin="620,160" width="10" x="115" y="115"/>
      <circ-port height="10" pin="620,600" width="10" x="115" y="205"/>
      <circ-port height="10" pin="620,710" width="10" x="115" y="225"/>
      <circ-anchor facing="east" height="6" width="6" x="117" y="97"/>
    </appear>
    <wire from="(520,1200)" to="(520,1210)"/>
    <wire from="(520,1080)" to="(520,1090)"/>
    <wire from="(520,1320)" to="(520,1330)"/>
    <wire from="(530,1090)" to="(530,1100)"/>
    <wire from="(530,1330)" to="(530,1340)"/>
    <wire from="(530,1210)" to="(530,1220)"/>
    <wire from="(510,730)" to="(510,740)"/>
    <wire from="(530,190)" to="(530,200)"/>
    <wire from="(520,620)" to="(520,630)"/>
    <wire from="(530,630)" to="(530,640)"/>
    <wire from="(500,740)" to="(500,750)"/>
    <wire from="(510,70)" to="(510,80)"/>
    <wire from="(520,180)" to="(520,190)"/>
    <wire from="(500,80)" to="(500,90)"/>
    <wire from="(530,1060)" to="(620,1060)"/>
    <wire from="(530,1180)" to="(620,1180)"/>
    <wire from="(530,1300)" to="(620,1300)"/>
    <wire from="(530,160)" to="(620,160)"/>
    <wire from="(530,600)" to="(620,600)"/>
    <wire from="(490,610)" to="(500,610)"/>
    <wire from="(490,170)" to="(500,170)"/>
    <wire from="(500,740)" to="(510,740)"/>
    <wire from="(520,80)" to="(530,80)"/>
    <wire from="(500,80)" to="(510,80)"/>
    <wire from="(490,1070)" to="(500,1070)"/>
    <wire from="(420,160)" to="(500,160)"/>
    <wire from="(420,600)" to="(500,600)"/>
    <wire from="(420,1060)" to="(500,1060)"/>
    <wire from="(420,1180)" to="(500,1180)"/>
    <wire from="(420,1300)" to="(500,1300)"/>
    <wire from="(520,740)" to="(530,740)"/>
    <wire from="(490,1190)" to="(500,1190)"/>
    <wire from="(490,1310)" to="(500,1310)"/>
    <wire from="(500,1330)" to="(500,1340)"/>
    <wire from="(510,1320)" to="(510,1330)"/>
    <wire from="(530,740)" to="(530,750)"/>
    <wire from="(510,620)" to="(510,630)"/>
    <wire from="(530,80)" to="(530,90)"/>
    <wire from="(500,1090)" to="(500,1100)"/>
    <wire from="(520,730)" to="(520,740)"/>
    <wire from="(510,1200)" to="(510,1210)"/>
    <wire from="(510,1080)" to="(510,1090)"/>
    <wire from="(500,1210)" to="(500,1220)"/>
    <wire from="(500,190)" to="(500,200)"/>
    <wire from="(500,630)" to="(500,640)"/>
    <wire from="(510,180)" to="(510,190)"/>
    <wire from="(520,70)" to="(520,80)"/>
    <wire from="(590,1470)" to="(630,1470)"/>
    <wire from="(370,1470)" to="(410,1470)"/>
    <wire from="(530,710)" to="(620,710)"/>
    <wire from="(530,50)" to="(620,50)"/>
    <wire from="(490,60)" to="(500,60)"/>
    <wire from="(500,190)" to="(510,190)"/>
    <wire from="(500,630)" to="(510,630)"/>
    <wire from="(490,720)" to="(500,720)"/>
    <wire from="(520,190)" to="(530,190)"/>
    <wire from="(420,50)" to="(500,50)"/>
    <wire from="(420,710)" to="(500,710)"/>
    <wire from="(520,1090)" to="(530,1090)"/>
    <wire from="(520,1210)" to="(530,1210)"/>
    <wire from="(520,1330)" to="(530,1330)"/>
    <wire from="(520,630)" to="(530,630)"/>
    <wire from="(500,1090)" to="(510,1090)"/>
    <wire from="(500,1330)" to="(510,1330)"/>
    <wire from="(500,1210)" to="(510,1210)"/>
    <comp lib="0" loc="(500,1220)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(530,90)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(420,1060)" name="Pin">
      <a name="width" val="8"/>
      <a name="tristate" val="false"/>
      <a name="label" val="ALU_RESULT"/>
    </comp>
    <comp lib="0" loc="(530,640)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="4" loc="(530,50)" name="Register">
      <a name="width" val="1"/>
      <a name="label" val="MEM_READ"/>
    </comp>
    <comp lib="4" loc="(530,1180)" name="Register">
      <a name="label" val="Reg_Data_2"/>
    </comp>
    <comp lib="0" loc="(630,1470)" name="Tunnel">
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(620,600)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="tristate" val="false"/>
      <a name="label" val="MEM_TO_REG"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(620,160)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="tristate" val="false"/>
      <a name="label" val="MEM_WRITE"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(500,750)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(620,710)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="tristate" val="false"/>
      <a name="label" val="REG_WRITE"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(500,1100)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(620,1300)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="4"/>
      <a name="label" val="WRITE REG"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(500,640)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(370,1470)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(590,1470)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(530,1100)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(420,1300)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="WRITE REG"/>
    </comp>
    <comp lib="4" loc="(530,1300)" name="Register">
      <a name="width" val="4"/>
      <a name="label" val="WRITE REG "/>
    </comp>
    <comp lib="0" loc="(490,720)" name="Power">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="4" loc="(530,600)" name="Register">
      <a name="width" val="1"/>
      <a name="label" val="MEM_TO_REG"/>
    </comp>
    <comp lib="0" loc="(420,160)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="MEM_WRITE"/>
    </comp>
    <comp lib="0" loc="(490,1190)" name="Power">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="4" loc="(530,160)" name="Register">
      <a name="width" val="1"/>
      <a name="label" val="MEM_WRITE"/>
    </comp>
    <comp lib="0" loc="(420,600)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="MEM_TO_REG"/>
    </comp>
    <comp lib="0" loc="(420,1180)" name="Pin">
      <a name="width" val="8"/>
      <a name="tristate" val="false"/>
      <a name="label" val="Reg_Data_2"/>
    </comp>
    <comp lib="0" loc="(490,1310)" name="Power">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(420,50)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="MEM_READ"/>
    </comp>
    <comp lib="0" loc="(490,610)" name="Power">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(490,170)" name="Power">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(530,1340)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(420,710)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="REG_WRITE"/>
    </comp>
    <comp lib="0" loc="(490,1070)" name="Power">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="4" loc="(530,710)" name="Register">
      <a name="width" val="1"/>
      <a name="label" val="REG_WRITE"/>
    </comp>
    <comp lib="4" loc="(530,1060)" name="Register">
      <a name="label" val="ALU_RESULT"/>
    </comp>
    <comp lib="0" loc="(410,1470)" name="Tunnel">
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(490,60)" name="Power">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(530,750)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(500,200)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(500,1340)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(620,1060)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="8"/>
      <a name="label" val="ALU_RESULT"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(620,1180)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="8"/>
      <a name="label" val="Reg_Data_2"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(620,50)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="tristate" val="false"/>
      <a name="label" val="MEM_READ"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(500,90)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(530,1220)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(530,200)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
  </circuit>
  <circuit name="MEM/WB">
    <a name="circuit" val="MEM/WB"/>
    <a name="clabel" val=""/>
    <a name="clabelup" val="east"/>
    <a name="clabelfont" val="SansSerif plain 12"/>
    <appear>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="85" y="338">MEM</text>
      <path d="M70,51 Q86,65 102,51" fill="none" stroke="#808080" stroke-width="2"/>
      <polyline fill="none" points="60,520 70,510 80,520" stroke="#000000" stroke-width="2"/>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="101" y="510">CLR</text>
      <text font-family="SansSerif" font-size="14" font-weight="bold" text-anchor="middle" x="85" y="79">MEM/WB</text>
      <rect fill="none" height="470" stroke="#000000" stroke-width="2" width="70" x="50" y="50"/>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="70" y="503">CLK</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="86" y="351">DATA</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="84" y="144">RegWrite</text>
      <text font-family="SansSerif" font-size="10" text-anchor="middle" x="84" y="124">MemToReg</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="83" y="275">ALU_RES</text>
      <text font-family="SansSerif" font-size="10" text-anchor="middle" x="84" y="443">WRITE REG</text>
      <circ-port height="8" pin="360,300" width="8" x="46" y="266"/>
      <circ-port height="8" pin="360,420" width="8" x="46" y="336"/>
      <circ-port height="8" pin="320,670" width="8" x="66" y="516"/>
      <circ-port height="8" pin="540,670" width="8" x="96" y="516"/>
      <circ-port height="10" pin="560,300" width="10" x="115" y="265"/>
      <circ-port height="10" pin="560,420" width="10" x="115" y="335"/>
      <circ-port height="8" pin="360,60" width="8" x="46" y="116"/>
      <circ-port height="10" pin="560,60" width="10" x="115" y="115"/>
      <circ-port height="8" pin="360,180" width="8" x="46" y="136"/>
      <circ-port height="10" pin="560,180" width="10" x="115" y="135"/>
      <circ-port height="8" pin="360,540" width="8" x="46" y="436"/>
      <circ-port height="10" pin="560,540" width="10" x="115" y="435"/>
      <circ-anchor facing="east" height="6" width="6" x="117" y="117"/>
    </appear>
    <wire from="(450,80)" to="(450,90)"/>
    <wire from="(440,90)" to="(440,100)"/>
    <wire from="(450,200)" to="(450,210)"/>
    <wire from="(440,210)" to="(440,220)"/>
    <wire from="(440,330)" to="(440,340)"/>
    <wire from="(440,450)" to="(440,460)"/>
    <wire from="(450,320)" to="(450,330)"/>
    <wire from="(440,570)" to="(440,580)"/>
    <wire from="(470,90)" to="(470,100)"/>
    <wire from="(470,210)" to="(470,220)"/>
    <wire from="(460,80)" to="(460,90)"/>
    <wire from="(450,440)" to="(450,450)"/>
    <wire from="(460,440)" to="(460,450)"/>
    <wire from="(460,200)" to="(460,210)"/>
    <wire from="(460,320)" to="(460,330)"/>
    <wire from="(450,560)" to="(450,570)"/>
    <wire from="(470,330)" to="(470,340)"/>
    <wire from="(470,450)" to="(470,460)"/>
    <wire from="(470,570)" to="(470,580)"/>
    <wire from="(460,560)" to="(460,570)"/>
    <wire from="(540,670)" to="(580,670)"/>
    <wire from="(320,670)" to="(360,670)"/>
    <wire from="(470,60)" to="(560,60)"/>
    <wire from="(470,180)" to="(560,180)"/>
    <wire from="(470,300)" to="(560,300)"/>
    <wire from="(470,420)" to="(560,420)"/>
    <wire from="(470,540)" to="(560,540)"/>
    <wire from="(430,430)" to="(440,430)"/>
    <wire from="(430,70)" to="(440,70)"/>
    <wire from="(430,190)" to="(440,190)"/>
    <wire from="(430,310)" to="(440,310)"/>
    <wire from="(430,550)" to="(440,550)"/>
    <wire from="(440,90)" to="(450,90)"/>
    <wire from="(440,210)" to="(450,210)"/>
    <wire from="(440,330)" to="(450,330)"/>
    <wire from="(440,450)" to="(450,450)"/>
    <wire from="(440,570)" to="(450,570)"/>
    <wire from="(460,90)" to="(470,90)"/>
    <wire from="(460,210)" to="(470,210)"/>
    <wire from="(460,330)" to="(470,330)"/>
    <wire from="(460,450)" to="(470,450)"/>
    <wire from="(460,570)" to="(470,570)"/>
    <wire from="(360,60)" to="(440,60)"/>
    <wire from="(360,180)" to="(440,180)"/>
    <wire from="(360,300)" to="(440,300)"/>
    <wire from="(360,420)" to="(440,420)"/>
    <wire from="(360,540)" to="(440,540)"/>
    <comp lib="0" loc="(360,180)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="REG_WRITE"/>
    </comp>
    <comp lib="4" loc="(470,420)" name="Register">
      <a name="label" val="Reg_Data_2"/>
    </comp>
    <comp lib="0" loc="(430,310)" name="Power">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(470,580)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(360,300)" name="Pin">
      <a name="width" val="8"/>
      <a name="tristate" val="false"/>
      <a name="label" val="ALU_RESULT"/>
    </comp>
    <comp lib="0" loc="(580,670)" name="Tunnel">
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(560,60)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="tristate" val="false"/>
      <a name="label" val="MEM_TO_REG"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="4" loc="(470,60)" name="Register">
      <a name="width" val="1"/>
      <a name="label" val="MEM_TO_REG"/>
    </comp>
    <comp lib="0" loc="(470,460)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(440,100)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(430,190)" name="Power">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(560,420)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="8"/>
      <a name="label" val="Reg_Data_2"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(470,340)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(440,220)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(320,670)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(430,550)" name="Power">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(560,300)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="8"/>
      <a name="label" val="ALU_RESULT"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(440,580)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(360,60)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="MEM_TO_REG"/>
    </comp>
    <comp lib="4" loc="(470,300)" name="Register">
      <a name="label" val="ALU_RESULT"/>
    </comp>
    <comp lib="0" loc="(560,540)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="4"/>
      <a name="label" val="WRITE REG"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="4" loc="(470,540)" name="Register">
      <a name="width" val="4"/>
      <a name="label" val="WRITE REG "/>
    </comp>
    <comp lib="0" loc="(440,460)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(430,430)" name="Power">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="4" loc="(470,180)" name="Register">
      <a name="width" val="1"/>
      <a name="label" val="REG_WRITE"/>
    </comp>
    <comp lib="0" loc="(430,70)" name="Power">
      <a name="facing" val="south"/>
    </comp>
    <comp lib="0" loc="(560,180)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="tristate" val="false"/>
      <a name="label" val="REG_WRITE"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(360,540)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="WRITE REG"/>
    </comp>
    <comp lib="0" loc="(540,670)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(440,340)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(470,220)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
    <comp lib="0" loc="(360,670)" name="Tunnel">
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(360,420)" name="Pin">
      <a name="width" val="8"/>
      <a name="tristate" val="false"/>
      <a name="label" val="Reg_Data_2"/>
    </comp>
    <comp lib="0" loc="(470,100)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="CLR"/>
    </comp>
  </circuit>
  <circuit name="FORWARDING_UNIT">
    <a name="circuit" val="FORWARDING_UNIT"/>
    <a name="clabel" val=""/>
    <a name="clabelup" val="east"/>
    <a name="clabelfont" val="SansSerif plain 12"/>
    <appear>
      <rect fill="none" height="120" stroke="#000000" stroke-width="2" width="160" x="100" y="60"/>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="183" y="100">FWD UNIT</text>
      <rect fill="none" height="18" rx="5" ry="5" stroke="#000000" width="59" x="153" y="87"/>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="132" y="124">ID/EX.RS</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="132" y="134">ID/EX.RT</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="224" y="123">EX/MEM.RD</text>
      <text font-family="SansSerif" font-size="10" text-anchor="middle" x="212" y="153">EX/MEM.RegWrite</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="223" y="134">MEM/WB.RD</text>
      <text font-family="SansSerif" font-size="10" text-anchor="middle" x="209" y="164">MEM/WB.RegWrite</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="150" y="77">Forward A</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="220" y="77">Forward B</text>
      <circ-port height="8" pin="250,40" width="8" x="96" y="116"/>
      <circ-port height="8" pin="250,80" width="8" x="96" y="126"/>
      <circ-port height="8" pin="250,120" width="8" x="256" y="116"/>
      <circ-port height="8" pin="250,160" width="8" x="256" y="146"/>
      <circ-port height="8" pin="250,200" width="8" x="256" y="126"/>
      <circ-port height="8" pin="250,240" width="8" x="256" y="156"/>
      <circ-port height="10" pin="770,90" width="10" x="145" y="55"/>
      <circ-port height="10" pin="770,220" width="10" x="215" y="55"/>
      <circ-anchor facing="east" height="6" width="6" x="147" y="57"/>
    </appear>
    <wire from="(480,470)" to="(480,540)"/>
    <wire from="(490,460)" to="(490,530)"/>
    <wire from="(480,810)" to="(480,880)"/>
    <wire from="(490,800)" to="(490,870)"/>
    <wire from="(240,690)" to="(490,690)"/>
    <wire from="(650,70)" to="(650,80)"/>
    <wire from="(650,230)" to="(650,240)"/>
    <wire from="(240,350)" to="(490,350)"/>
    <wire from="(560,540)" to="(610,540)"/>
    <wire from="(560,880)" to="(610,880)"/>
    <wire from="(480,540)" to="(530,540)"/>
    <wire from="(480,880)" to="(530,880)"/>
    <wire from="(370,740)" to="(480,740)"/>
    <wire from="(680,240)" to="(680,270)"/>
    <wire from="(370,400)" to="(480,400)"/>
    <wire from="(490,460)" to="(530,460)"/>
    <wire from="(490,800)" to="(530,800)"/>
    <wire from="(240,560)" to="(270,560)"/>
    <wire from="(310,550)" to="(530,550)"/>
    <wire from="(240,540)" to="(270,540)"/>
    <wire from="(310,890)" to="(530,890)"/>
    <wire from="(570,200)" to="(590,200)"/>
    <wire from="(650,100)" to="(670,100)"/>
    <wire from="(650,80)" to="(670,80)"/>
    <wire from="(630,200)" to="(650,200)"/>
    <wire from="(240,900)" to="(270,900)"/>
    <wire from="(240,880)" to="(270,880)"/>
    <wire from="(620,240)" to="(650,240)"/>
    <wire from="(250,200)" to="(270,200)"/>
    <wire from="(250,80)" to="(270,80)"/>
    <wire from="(250,120)" to="(270,120)"/>
    <wire from="(250,160)" to="(270,160)"/>
    <wire from="(250,240)" to="(270,240)"/>
    <wire from="(250,40)" to="(270,40)"/>
    <wire from="(700,90)" to="(770,90)"/>
    <wire from="(480,400)" to="(480,470)"/>
    <wire from="(480,740)" to="(480,810)"/>
    <wire from="(650,100)" to="(650,110)"/>
    <wire from="(650,200)" to="(650,210)"/>
    <wire from="(560,470)" to="(610,470)"/>
    <wire from="(560,810)" to="(610,810)"/>
    <wire from="(480,470)" to="(530,470)"/>
    <wire from="(480,810)" to="(530,810)"/>
    <wire from="(680,110)" to="(680,140)"/>
    <wire from="(490,530)" to="(530,530)"/>
    <wire from="(490,870)" to="(530,870)"/>
    <wire from="(240,470)" to="(270,470)"/>
    <wire from="(240,410)" to="(270,410)"/>
    <wire from="(240,390)" to="(270,390)"/>
    <wire from="(310,480)" to="(530,480)"/>
    <wire from="(310,820)" to="(530,820)"/>
    <wire from="(240,490)" to="(270,490)"/>
    <wire from="(570,70)" to="(590,70)"/>
    <wire from="(650,230)" to="(670,230)"/>
    <wire from="(650,210)" to="(670,210)"/>
    <wire from="(630,70)" to="(650,70)"/>
    <wire from="(240,730)" to="(270,730)"/>
    <wire from="(240,810)" to="(270,810)"/>
    <wire from="(240,750)" to="(270,750)"/>
    <wire from="(240,830)" to="(270,830)"/>
    <wire from="(310,400)" to="(340,400)"/>
    <wire from="(310,740)" to="(340,740)"/>
    <wire from="(490,350)" to="(490,460)"/>
    <wire from="(490,690)" to="(490,800)"/>
    <wire from="(620,110)" to="(650,110)"/>
    <wire from="(700,220)" to="(770,220)"/>
    <comp lib="1" loc="(560,470)" name="AND Gate">
      <a name="size" val="30"/>
      <a name="inputs" val="3"/>
    </comp>
    <comp lib="3" loc="(310,550)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="6" loc="(1211,626)" name="Text">
      <a name="text" val="Both can happen at same time like:"/>
      <a name="font" val="SansSerif bold 12"/>
    </comp>
    <comp lib="0" loc="(240,470)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="EX/MEM.RegisterRd"/>
    </comp>
    <comp lib="0" loc="(610,470)" name="Tunnel">
      <a name="label" val="EX_Hazard_A"/>
    </comp>
    <comp lib="6" loc="(903,861)" name="Text">
      <a name="text" val="add $t0, ... =&gt; Another Operation  =&gt;  add $t1, $t0, ...."/>
      <a name="font" val="SansSerif bold 12"/>
    </comp>
    <comp lib="0" loc="(630,70)" name="Bit Extender">
      <a name="in_width" val="1"/>
      <a name="out_width" val="2"/>
    </comp>
    <comp lib="0" loc="(240,880)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="MEM/WB.RegisterRd"/>
    </comp>
    <comp lib="0" loc="(620,110)" name="Constant">
      <a name="width" val="2"/>
      <a name="value" val="0x2"/>
    </comp>
    <comp lib="6" loc="(130,306)" name="Text">
      <a name="text" val="EX HAZARD"/>
      <a name="font" val="SansSerif bold 16"/>
    </comp>
    <comp lib="6" loc="(880,487)" name="Text">
      <a name="text" val="This handles scenarios like this : "/>
      <a name="font" val="SansSerif bold 12"/>
    </comp>
    <comp lib="1" loc="(370,400)" name="NOT Gate"/>
    <comp lib="0" loc="(770,220)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="2"/>
      <a name="label" val="Forward B"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(2860,460)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="EX/MEM.MEM_READ"/>
    </comp>
    <comp lib="0" loc="(680,270)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="EX_Hazard_B"/>
    </comp>
    <comp lib="0" loc="(680,140)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="EX_Hazard_A"/>
    </comp>
    <comp lib="2" loc="(700,220)" name="Multiplexer">
      <a name="width" val="2"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="0" loc="(240,560)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="ID/EX.RegisterRt"/>
    </comp>
    <comp lib="0" loc="(270,160)" name="Tunnel">
      <a name="label" val="EX/MEM.RegWrite"/>
    </comp>
    <comp lib="0" loc="(270,200)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="MEM/WB.RegisterRd"/>
    </comp>
    <comp lib="0" loc="(250,80)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="ID/EX.RegisterRt"/>
    </comp>
    <comp lib="0" loc="(270,40)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="ID/EX.RegisterRs"/>
    </comp>
    <comp lib="1" loc="(560,880)" name="AND Gate">
      <a name="size" val="30"/>
      <a name="inputs" val="3"/>
    </comp>
    <comp lib="0" loc="(250,40)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="ID/EX.RegisterRs"/>
    </comp>
    <comp lib="0" loc="(250,120)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="EX/MEM.RegisterRd"/>
    </comp>
    <comp lib="0" loc="(240,410)" name="Constant">
      <a name="width" val="4"/>
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="0" loc="(240,730)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="MEM/WB.RegisterRd"/>
    </comp>
    <comp lib="0" loc="(630,200)" name="Bit Extender">
      <a name="in_width" val="1"/>
      <a name="out_width" val="2"/>
    </comp>
    <comp lib="6" loc="(1057,313)" name="Text">
      <a name="text" val="10 OR FORWARDING FROM EX/MEM GETS PRIORITY (AS LATEST VALUE)"/>
      <a name="font" val="SansSerif bold 13"/>
    </comp>
    <comp lib="3" loc="(310,480)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="0" loc="(250,160)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="EX/MEM.RegWrite"/>
    </comp>
    <comp lib="0" loc="(240,390)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="EX/MEM.RegisterRd"/>
    </comp>
    <comp lib="0" loc="(240,830)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="ID/EX.RegisterRs"/>
    </comp>
    <comp lib="0" loc="(240,540)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="EX/MEM.RegisterRd"/>
    </comp>
    <comp lib="0" loc="(240,810)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="MEM/WB.RegisterRd"/>
    </comp>
    <comp lib="0" loc="(250,240)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="MEM/WB.RegWrite"/>
    </comp>
    <comp lib="0" loc="(610,810)" name="Tunnel">
      <a name="label" val="MEM_Hazard_A"/>
    </comp>
    <comp lib="0" loc="(570,200)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="MEM_Hazard_B"/>
    </comp>
    <comp lib="0" loc="(270,240)" name="Tunnel">
      <a name="label" val="MEM/WB.RegWrite"/>
    </comp>
    <comp lib="0" loc="(240,690)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="MEM/WB.RegWrite"/>
    </comp>
    <comp lib="0" loc="(240,350)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="EX/MEM.RegWrite"/>
    </comp>
    <comp lib="1" loc="(370,740)" name="NOT Gate"/>
    <comp lib="0" loc="(570,70)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="MEM_Hazard_A"/>
    </comp>
    <comp lib="0" loc="(240,900)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="ID/EX.RegisterRt"/>
    </comp>
    <comp lib="0" loc="(240,750)" name="Constant">
      <a name="width" val="4"/>
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="3" loc="(310,740)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="6" loc="(129,627)" name="Text">
      <a name="text" val="MEM HAZARD"/>
      <a name="font" val="SansSerif bold 16"/>
    </comp>
    <comp lib="0" loc="(250,200)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="MEM/WB.RegisterRd"/>
    </comp>
    <comp lib="1" loc="(560,540)" name="AND Gate">
      <a name="size" val="30"/>
      <a name="inputs" val="3"/>
    </comp>
    <comp lib="3" loc="(310,820)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="2" loc="(700,90)" name="Multiplexer">
      <a name="width" val="2"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="6" loc="(899,839)" name="Text">
      <a name="text" val="This handles scenarios like this : "/>
      <a name="font" val="SansSerif bold 12"/>
    </comp>
    <comp lib="6" loc="(1212,651)" name="Text">
      <a name="text" val="add $t0, ... =&gt; add $t0, ... =&gt; add $t1, $t0, $t0"/>
      <a name="font" val="SansSerif bold 12"/>
    </comp>
    <comp lib="6" loc="(942,100)" name="Text">
      <a name="text" val="01 - FORWARDED FROM MEM/WB REGISTER"/>
      <a name="font" val="SansSerif bold 14"/>
      <a name="halign" val="left"/>
    </comp>
    <comp lib="0" loc="(240,490)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="ID/EX.RegisterRs"/>
    </comp>
    <comp lib="6" loc="(943,127)" name="Text">
      <a name="text" val="10 - FORWARDED FROM EX/MEM"/>
      <a name="font" val="SansSerif bold 14"/>
      <a name="halign" val="left"/>
    </comp>
    <comp lib="1" loc="(560,810)" name="AND Gate">
      <a name="size" val="30"/>
      <a name="inputs" val="3"/>
    </comp>
    <comp lib="3" loc="(310,890)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="0" loc="(770,90)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="2"/>
      <a name="label" val="Forward A"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(610,540)" name="Tunnel">
      <a name="label" val="EX_Hazard_B"/>
    </comp>
    <comp lib="0" loc="(270,120)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="EX/MEM.RegisterRd"/>
    </comp>
    <comp lib="6" loc="(1206,674)" name="Text">
      <a name="text" val="Then we prioritize the last add, or the EX HAZARD"/>
      <a name="font" val="SansSerif bold 12"/>
    </comp>
    <comp lib="0" loc="(610,880)" name="Tunnel">
      <a name="label" val="MEM_Hazard_B"/>
    </comp>
    <comp lib="3" loc="(310,400)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="0" loc="(270,80)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="ID/EX.RegisterRt"/>
    </comp>
    <comp lib="0" loc="(2850,450)" name="Tunnel">
      <a name="facing" val="south"/>
      <a name="label" val="EX/MEM.MEM_READ"/>
    </comp>
    <comp lib="6" loc="(878,509)" name="Text">
      <a name="text" val="add $t0, ...  =&gt;  add $t1, $t0, ...."/>
      <a name="font" val="SansSerif bold 12"/>
    </comp>
    <comp lib="6" loc="(941,74)" name="Text">
      <a name="text" val="00 - NO FORWARDING"/>
      <a name="font" val="SansSerif bold 14"/>
      <a name="halign" val="left"/>
    </comp>
    <comp lib="0" loc="(620,240)" name="Constant">
      <a name="width" val="2"/>
      <a name="value" val="0x2"/>
    </comp>
  </circuit>
  <circuit name="LOAD_USE_HAZARD">
    <a name="circuit" val="LOAD_USE_HAZARD"/>
    <a name="clabel" val=""/>
    <a name="clabelup" val="east"/>
    <a name="clabelfont" val="SansSerif bold 8"/>
    <appear>
      <rect fill="none" height="100" stroke="#000000" stroke-width="2" width="140" x="50" y="50"/>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="77" y="114">IF/ID.RS</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="76" y="133">IF/ID.RT</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="160" y="113">ID/EX.RT</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="145" y="134">ID/EX.MemRead</text>
      <text font-family="SansSerif" font-size="12" font-style="italic" font-weight="bold" text-anchor="middle" x="160" y="68">Hazard?</text>
      <text font-family="SansSerif" font-size="11" font-weight="bold" text-anchor="middle" x="121" y="90">LOAD-USE HAZARD</text>
      <rect fill="none" height="15" rx="5" ry="5" stroke="#000000" width="114" x="63" y="78"/>
      <circ-port height="8" pin="250,40" width="8" x="186" y="126"/>
      <circ-port height="8" pin="250,80" width="8" x="186" y="106"/>
      <circ-port height="8" pin="250,120" width="8" x="46" y="106"/>
      <circ-port height="8" pin="250,160" width="8" x="46" y="126"/>
      <circ-port height="10" pin="560,370" width="10" x="155" y="45"/>
      <circ-anchor facing="east" height="6" width="6" x="187" y="107"/>
    </appear>
    <wire from="(340,420)" to="(370,420)"/>
    <wire from="(340,360)" to="(370,360)"/>
    <wire from="(280,350)" to="(300,350)"/>
    <wire from="(280,430)" to="(300,430)"/>
    <wire from="(280,370)" to="(300,370)"/>
    <wire from="(280,410)" to="(300,410)"/>
    <wire from="(370,380)" to="(390,380)"/>
    <wire from="(370,400)" to="(390,400)"/>
    <wire from="(420,390)" to="(440,390)"/>
    <wire from="(280,310)" to="(400,310)"/>
    <wire from="(400,310)" to="(400,350)"/>
    <wire from="(250,40)" to="(270,40)"/>
    <wire from="(250,80)" to="(270,80)"/>
    <wire from="(250,120)" to="(270,120)"/>
    <wire from="(250,160)" to="(270,160)"/>
    <wire from="(370,360)" to="(370,380)"/>
    <wire from="(370,400)" to="(370,420)"/>
    <wire from="(490,370)" to="(560,370)"/>
    <wire from="(400,350)" to="(440,350)"/>
    <comp lib="0" loc="(250,120)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="IF/ID.RegisterRs"/>
    </comp>
    <comp lib="6" loc="(835,361)" name="Text">
      <a name="text" val="This handles scenarios like:"/>
      <a name="font" val="SansSerif bold 12"/>
    </comp>
    <comp lib="6" loc="(406,241)" name="Text">
      <a name="text" val="LOAD USE HAZARD - 1 CLOCK CYCLE STALL MANDATORY"/>
      <a name="font" val="SansSerif bold 16"/>
    </comp>
    <comp lib="3" loc="(340,360)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="1" loc="(490,370)" name="AND Gate">
      <a name="inputs" val="2"/>
    </comp>
    <comp lib="0" loc="(280,410)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="ID/EX.RegisterRt"/>
    </comp>
    <comp lib="0" loc="(250,80)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="ID/EX.RegisterRt"/>
    </comp>
    <comp lib="0" loc="(270,160)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="IF/ID.RegisterRt"/>
    </comp>
    <comp lib="1" loc="(420,390)" name="OR Gate">
      <a name="size" val="30"/>
      <a name="inputs" val="2"/>
    </comp>
    <comp lib="3" loc="(340,420)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="0" loc="(560,370)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="Hazard?"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(250,160)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="IF/ID.RegisterRt"/>
    </comp>
    <comp lib="0" loc="(280,370)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="IF/ID.RegisterRs"/>
    </comp>
    <comp lib="0" loc="(250,40)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="ID/EX.MemRead"/>
    </comp>
    <comp lib="0" loc="(270,80)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="ID/EX.RegisterRt"/>
    </comp>
    <comp lib="0" loc="(270,40)" name="Tunnel">
      <a name="label" val="ID/EX.MemRead"/>
    </comp>
    <comp lib="6" loc="(625,84)" name="Text">
      <a name="text" val="We always write to Rt register in case of lw. So no need to consider ID/EX.RegisterRd"/>
      <a name="font" val="SansSerif bold 12"/>
    </comp>
    <comp lib="0" loc="(280,430)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="IF/ID.RegisterRt"/>
    </comp>
    <comp lib="0" loc="(270,120)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="IF/ID.RegisterRs"/>
    </comp>
    <comp lib="0" loc="(280,310)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="ID/EX.MemRead"/>
    </comp>
    <comp lib="6" loc="(839,388)" name="Text">
      <a name="text" val="lw $t0, ... =&gt;  add $t1, $t0, ..."/>
      <a name="font" val="SansSerif bold 12"/>
    </comp>
    <comp lib="0" loc="(280,350)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="ID/EX.RegisterRt"/>
    </comp>
  </circuit>
  <circuit name="BRANCH_FORWARDING_UNIT">
    <a name="circuit" val="BRANCH_FORWARDING_UNIT"/>
    <a name="clabel" val=""/>
    <a name="clabelup" val="east"/>
    <a name="clabelfont" val="SansSerif plain 12"/>
    <appear>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="126" y="154">IF/ID.RT</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="180" y="77">FWD B</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="224" y="133">EX/MEM.RD</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="223" y="144">MEM/WB.RD</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="183" y="100">BRANCH FWD UNIT</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="130" y="77">FWD A</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="126" y="144">IF/ID.RS</text>
      <text font-family="SansSerif" font-size="10" text-anchor="middle" x="211" y="204">MEM/WB.RegWrite</text>
      <text font-family="SansSerif" font-size="10" text-anchor="middle" x="212" y="193">EX/MEM.RegWrite</text>
      <rect fill="none" height="19" rx="5" ry="5" stroke="#000000" width="106" x="129" y="87"/>
      <rect fill="none" height="160" stroke="#000000" stroke-width="2" width="160" x="100" y="60"/>
      <text font-family="SansSerif" font-size="10" text-anchor="middle" x="217" y="183">ID/EX.RegWrite</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="229" y="122">ID/EX.RD</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="230" y="77">STALL</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="125" y="174">Branch?</text>
      <circ-port height="8" pin="250,40" width="8" x="96" y="136"/>
      <circ-port height="8" pin="250,80" width="8" x="96" y="146"/>
      <circ-port height="8" pin="250,120" width="8" x="256" y="126"/>
      <circ-port height="8" pin="250,160" width="8" x="256" y="186"/>
      <circ-port height="8" pin="250,200" width="8" x="256" y="136"/>
      <circ-port height="8" pin="250,240" width="8" x="256" y="196"/>
      <circ-port height="10" pin="870,80" width="10" x="125" y="55"/>
      <circ-port height="10" pin="870,210" width="10" x="175" y="55"/>
      <circ-port height="8" pin="250,320" width="8" x="256" y="176"/>
      <circ-port height="8" pin="250,280" width="8" x="256" y="116"/>
      <circ-port height="10" pin="870,390" width="10" x="225" y="55"/>
      <circ-port height="8" pin="250,370" width="8" x="96" y="166"/>
      <circ-anchor facing="east" height="6" width="6" x="127" y="57"/>
    </appear>
    <wire from="(470,860)" to="(470,930)"/>
    <wire from="(550,590)" to="(600,590)"/>
    <wire from="(1050,660)" to="(1090,660)"/>
    <wire from="(470,590)" to="(520,590)"/>
    <wire from="(680,240)" to="(680,270)"/>
    <wire from="(830,80)" to="(870,80)"/>
    <wire from="(1040,670)" to="(1040,740)"/>
    <wire from="(700,220)" to="(800,220)"/>
    <wire from="(480,650)" to="(520,650)"/>
    <wire from="(300,600)" to="(520,600)"/>
    <wire from="(230,850)" to="(260,850)"/>
    <wire from="(230,930)" to="(260,930)"/>
    <wire from="(230,610)" to="(260,610)"/>
    <wire from="(230,530)" to="(260,530)"/>
    <wire from="(570,200)" to="(590,200)"/>
    <wire from="(650,80)" to="(670,80)"/>
    <wire from="(300,520)" to="(330,520)"/>
    <wire from="(480,470)" to="(480,580)"/>
    <wire from="(620,240)" to="(650,240)"/>
    <wire from="(250,200)" to="(270,200)"/>
    <wire from="(250,120)" to="(270,120)"/>
    <wire from="(250,40)" to="(270,40)"/>
    <wire from="(250,80)" to="(270,80)"/>
    <wire from="(250,160)" to="(270,160)"/>
    <wire from="(250,240)" to="(270,240)"/>
    <wire from="(250,280)" to="(270,280)"/>
    <wire from="(250,320)" to="(270,320)"/>
    <wire from="(880,740)" to="(910,740)"/>
    <wire from="(950,680)" to="(1090,680)"/>
    <wire from="(1120,670)" to="(1140,670)"/>
    <wire from="(1140,690)" to="(1160,690)"/>
    <wire from="(1190,700)" to="(1210,700)"/>
    <wire from="(470,590)" to="(470,660)"/>
    <wire from="(480,920)" to="(480,990)"/>
    <wire from="(650,100)" to="(650,110)"/>
    <wire from="(230,470)" to="(480,470)"/>
    <wire from="(1140,670)" to="(1140,690)"/>
    <wire from="(550,1000)" to="(600,1000)"/>
    <wire from="(810,100)" to="(810,110)"/>
    <wire from="(470,1000)" to="(520,1000)"/>
    <wire from="(1140,710)" to="(1140,740)"/>
    <wire from="(830,210)" to="(870,210)"/>
    <wire from="(1040,600)" to="(1040,670)"/>
    <wire from="(360,520)" to="(470,520)"/>
    <wire from="(880,550)" to="(1050,550)"/>
    <wire from="(480,580)" to="(520,580)"/>
    <wire from="(300,1010)" to="(520,1010)"/>
    <wire from="(230,660)" to="(260,660)"/>
    <wire from="(230,1020)" to="(260,1020)"/>
    <wire from="(630,70)" to="(650,70)"/>
    <wire from="(650,210)" to="(670,210)"/>
    <wire from="(1010,600)" to="(1040,600)"/>
    <wire from="(880,670)" to="(910,670)"/>
    <wire from="(880,590)" to="(910,590)"/>
    <wire from="(250,370)" to="(270,370)"/>
    <wire from="(470,520)" to="(470,590)"/>
    <wire from="(650,70)" to="(650,80)"/>
    <wire from="(650,230)" to="(650,240)"/>
    <wire from="(550,930)" to="(600,930)"/>
    <wire from="(810,230)" to="(810,240)"/>
    <wire from="(470,930)" to="(520,930)"/>
    <wire from="(740,370)" to="(780,370)"/>
    <wire from="(740,410)" to="(780,410)"/>
    <wire from="(760,70)" to="(800,70)"/>
    <wire from="(1050,660)" to="(1050,730)"/>
    <wire from="(1040,740)" to="(1090,740)"/>
    <wire from="(480,990)" to="(520,990)"/>
    <wire from="(230,590)" to="(260,590)"/>
    <wire from="(300,940)" to="(520,940)"/>
    <wire from="(230,510)" to="(260,510)"/>
    <wire from="(230,870)" to="(260,870)"/>
    <wire from="(230,950)" to="(260,950)"/>
    <wire from="(630,200)" to="(650,200)"/>
    <wire from="(650,100)" to="(670,100)"/>
    <wire from="(300,860)" to="(330,860)"/>
    <wire from="(480,810)" to="(480,920)"/>
    <wire from="(880,760)" to="(910,760)"/>
    <wire from="(1140,710)" to="(1160,710)"/>
    <wire from="(480,580)" to="(480,650)"/>
    <wire from="(470,930)" to="(470,1000)"/>
    <wire from="(650,200)" to="(650,210)"/>
    <wire from="(230,810)" to="(480,810)"/>
    <wire from="(550,660)" to="(600,660)"/>
    <wire from="(1050,730)" to="(1090,730)"/>
    <wire from="(470,660)" to="(520,660)"/>
    <wire from="(760,200)" to="(800,200)"/>
    <wire from="(680,110)" to="(680,140)"/>
    <wire from="(830,390)" to="(870,390)"/>
    <wire from="(700,90)" to="(800,90)"/>
    <wire from="(360,860)" to="(470,860)"/>
    <wire from="(1040,670)" to="(1090,670)"/>
    <wire from="(480,920)" to="(520,920)"/>
    <wire from="(300,670)" to="(520,670)"/>
    <wire from="(230,680)" to="(260,680)"/>
    <wire from="(230,1000)" to="(260,1000)"/>
    <wire from="(570,70)" to="(590,70)"/>
    <wire from="(650,230)" to="(670,230)"/>
    <wire from="(620,110)" to="(650,110)"/>
    <wire from="(950,600)" to="(980,600)"/>
    <wire from="(880,610)" to="(910,610)"/>
    <wire from="(880,690)" to="(910,690)"/>
    <wire from="(950,750)" to="(1090,750)"/>
    <wire from="(1120,740)" to="(1140,740)"/>
    <wire from="(1050,550)" to="(1050,660)"/>
    <comp lib="0" loc="(630,70)" name="Bit Extender">
      <a name="in_width" val="1"/>
      <a name="out_width" val="2"/>
    </comp>
    <comp lib="3" loc="(300,520)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="0" loc="(270,40)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="IF/ID.RegisterRs"/>
    </comp>
    <comp lib="0" loc="(230,590)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="EX/MEM.RegisterRd"/>
    </comp>
    <comp lib="0" loc="(270,240)" name="Tunnel">
      <a name="label" val="MEM/WB.RegWrite"/>
    </comp>
    <comp lib="1" loc="(1120,670)" name="AND Gate">
      <a name="size" val="30"/>
      <a name="inputs" val="3"/>
    </comp>
    <comp lib="0" loc="(680,140)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="EX_Hazard_A"/>
    </comp>
    <comp lib="0" loc="(250,240)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="MEM/WB.RegWrite"/>
    </comp>
    <comp lib="1" loc="(360,860)" name="NOT Gate"/>
    <comp lib="0" loc="(230,530)" name="Constant">
      <a name="width" val="4"/>
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="0" loc="(680,270)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="EX_Hazard_B"/>
    </comp>
    <comp lib="2" loc="(700,220)" name="Multiplexer">
      <a name="width" val="2"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="2" loc="(700,90)" name="Multiplexer">
      <a name="width" val="2"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="0" loc="(620,240)" name="Constant">
      <a name="width" val="2"/>
      <a name="value" val="0x2"/>
    </comp>
    <comp lib="0" loc="(230,680)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="IF/ID.RegisterRt"/>
    </comp>
    <comp lib="0" loc="(570,200)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="MEM_Hazard_B"/>
    </comp>
    <comp lib="0" loc="(600,930)" name="Tunnel">
      <a name="label" val="MEM_Hazard_A"/>
    </comp>
    <comp lib="0" loc="(270,320)" name="Tunnel">
      <a name="label" val="ID/EX.RegWrite"/>
    </comp>
    <comp lib="0" loc="(250,370)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="Is_Branch"/>
    </comp>
    <comp lib="0" loc="(230,660)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="EX/MEM.RegisterRd"/>
    </comp>
    <comp lib="0" loc="(230,950)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="IF/ID.RegisterRs"/>
    </comp>
    <comp lib="6" loc="(133,426)" name="Text">
      <a name="text" val="EX HAZARD"/>
      <a name="font" val="SansSerif bold 16"/>
    </comp>
    <comp lib="1" loc="(550,930)" name="AND Gate">
      <a name="size" val="30"/>
      <a name="inputs" val="3"/>
    </comp>
    <comp lib="0" loc="(270,200)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="MEM/WB.RegisterRd"/>
    </comp>
    <comp lib="0" loc="(880,690)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="IF/ID.RegisterRs"/>
    </comp>
    <comp lib="1" loc="(830,390)" name="AND Gate">
      <a name="inputs" val="2"/>
    </comp>
    <comp lib="0" loc="(270,160)" name="Tunnel">
      <a name="label" val="EX/MEM.RegWrite"/>
    </comp>
    <comp lib="3" loc="(300,860)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="0" loc="(270,370)" name="Tunnel">
      <a name="label" val="Is_Branch"/>
    </comp>
    <comp lib="6" loc="(985,96)" name="Text">
      <a name="text" val="01 - FORWARDED FROM MEM/WB REGISTER"/>
      <a name="font" val="SansSerif bold 14"/>
      <a name="halign" val="left"/>
    </comp>
    <comp lib="6" loc="(1032,296)" name="Text">
      <a name="text" val="10 OR FORWARDING FROM EX/MEM GETS PRIORITY (AS LATEST VALUE)"/>
      <a name="font" val="SansSerif bold 13"/>
    </comp>
    <comp lib="1" loc="(1190,700)" name="OR Gate">
      <a name="size" val="30"/>
      <a name="inputs" val="2"/>
    </comp>
    <comp lib="0" loc="(230,610)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="IF/ID.RegisterRs"/>
    </comp>
    <comp lib="0" loc="(880,740)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="ID/EX.RegisterRd"/>
    </comp>
    <comp lib="0" loc="(270,120)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="EX/MEM.RegisterRd"/>
    </comp>
    <comp lib="0" loc="(270,80)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="IF/ID.RegisterRt"/>
    </comp>
    <comp lib="1" loc="(1120,740)" name="AND Gate">
      <a name="size" val="30"/>
      <a name="inputs" val="3"/>
    </comp>
    <comp lib="0" loc="(230,1000)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="MEM/WB.RegisterRd"/>
    </comp>
    <comp lib="0" loc="(230,930)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="MEM/WB.RegisterRd"/>
    </comp>
    <comp lib="0" loc="(250,320)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="ID/EX.RegWrite"/>
    </comp>
    <comp lib="0" loc="(760,200)" name="Constant">
      <a name="width" val="2"/>
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="0" loc="(600,590)" name="Tunnel">
      <a name="label" val="EX_Hazard_A"/>
    </comp>
    <comp lib="0" loc="(870,210)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="2"/>
      <a name="label" val="Forward B"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(880,590)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="ID/EX.RegisterRd"/>
    </comp>
    <comp lib="3" loc="(300,670)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="0" loc="(230,470)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="EX/MEM.RegWrite"/>
    </comp>
    <comp lib="3" loc="(950,600)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="0" loc="(740,410)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="Stall"/>
    </comp>
    <comp lib="0" loc="(880,610)" name="Constant">
      <a name="width" val="4"/>
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="6" loc="(148,754)" name="Text">
      <a name="text" val="MEM HAZARD"/>
      <a name="font" val="SansSerif bold 16"/>
    </comp>
    <comp lib="0" loc="(250,120)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="EX/MEM.RegisterRd"/>
    </comp>
    <comp lib="0" loc="(600,660)" name="Tunnel">
      <a name="label" val="EX_Hazard_B"/>
    </comp>
    <comp lib="6" loc="(984,70)" name="Text">
      <a name="text" val="00 - NO FORWARDING"/>
      <a name="font" val="SansSerif bold 14"/>
      <a name="halign" val="left"/>
    </comp>
    <comp lib="0" loc="(230,850)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="MEM/WB.RegisterRd"/>
    </comp>
    <comp lib="6" loc="(986,123)" name="Text">
      <a name="text" val="10 - FORWARDED FROM EX/MEM"/>
      <a name="font" val="SansSerif bold 14"/>
      <a name="halign" val="left"/>
    </comp>
    <comp lib="0" loc="(870,80)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="2"/>
      <a name="label" val="Forward A"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="1" loc="(360,520)" name="NOT Gate"/>
    <comp lib="1" loc="(550,660)" name="AND Gate">
      <a name="size" val="30"/>
      <a name="inputs" val="3"/>
    </comp>
    <comp lib="3" loc="(950,680)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="3" loc="(950,750)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="2" loc="(830,80)" name="Multiplexer">
      <a name="width" val="2"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="1" loc="(1010,600)" name="NOT Gate"/>
    <comp lib="0" loc="(1210,700)" name="Tunnel">
      <a name="label" val="Stall"/>
    </comp>
    <comp lib="1" loc="(550,590)" name="AND Gate">
      <a name="size" val="30"/>
      <a name="inputs" val="3"/>
    </comp>
    <comp lib="0" loc="(230,870)" name="Constant">
      <a name="width" val="4"/>
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="6" loc="(982,481)" name="Text">
      <a name="text" val="ID HAZARD (NON FORWARDABLE - STALL 1 CYCLE)"/>
      <a name="font" val="SansSerif bold 16"/>
    </comp>
    <comp lib="0" loc="(600,1000)" name="Tunnel">
      <a name="label" val="MEM_Hazard_B"/>
    </comp>
    <comp lib="3" loc="(300,1010)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="0" loc="(250,200)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="MEM/WB.RegisterRd"/>
    </comp>
    <comp lib="0" loc="(250,80)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="IF/ID.RegisterRt"/>
    </comp>
    <comp lib="0" loc="(810,110)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="Is_Branch"/>
    </comp>
    <comp lib="0" loc="(250,40)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="IF/ID.RegisterRs"/>
    </comp>
    <comp lib="2" loc="(830,210)" name="Multiplexer">
      <a name="width" val="2"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="0" loc="(880,550)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="ID/EX.RegWrite"/>
    </comp>
    <comp lib="0" loc="(230,810)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="MEM/WB.RegWrite"/>
    </comp>
    <comp lib="0" loc="(570,70)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="MEM_Hazard_A"/>
    </comp>
    <comp lib="0" loc="(880,760)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="IF/ID.RegisterRt"/>
    </comp>
    <comp lib="0" loc="(740,370)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="Is_Branch"/>
    </comp>
    <comp lib="0" loc="(630,200)" name="Bit Extender">
      <a name="in_width" val="1"/>
      <a name="out_width" val="2"/>
    </comp>
    <comp lib="0" loc="(250,160)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="EX/MEM.RegWrite"/>
    </comp>
    <comp lib="0" loc="(250,280)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="ID/EX.RegisterRd"/>
    </comp>
    <comp lib="0" loc="(880,670)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="ID/EX.RegisterRd"/>
    </comp>
    <comp lib="0" loc="(810,240)" name="Tunnel">
      <a name="facing" val="north"/>
      <a name="label" val="Is_Branch"/>
    </comp>
    <comp lib="0" loc="(620,110)" name="Constant">
      <a name="width" val="2"/>
      <a name="value" val="0x2"/>
    </comp>
    <comp lib="0" loc="(230,1020)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="IF/ID.RegisterRt"/>
    </comp>
    <comp lib="0" loc="(870,390)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="Stall"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="3" loc="(300,600)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="3" loc="(300,940)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="0" loc="(270,280)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="ID/EX.RegisterRd"/>
    </comp>
    <comp lib="0" loc="(230,510)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="EX/MEM.RegisterRd"/>
    </comp>
    <comp lib="0" loc="(760,70)" name="Constant">
      <a name="width" val="2"/>
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="1" loc="(550,1000)" name="AND Gate">
      <a name="size" val="30"/>
      <a name="inputs" val="3"/>
    </comp>
  </circuit>
  <circuit name="BRANCH_LOAD_USE_HAZARD">
    <a name="circuit" val="BRANCH_LOAD_USE_HAZARD"/>
    <a name="clabel" val=""/>
    <a name="clabelup" val="east"/>
    <a name="clabelfont" val="SansSerif plain 12"/>
    <appear>
      <rect fill="none" height="130" stroke="#000000" stroke-width="2" width="180" x="50" y="50"/>
      <text font-family="SansSerif" font-size="12" font-style="italic" font-weight="bold" text-anchor="middle" x="189" y="68">Hazard?</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="200" y="113">ID/EX.RT</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="76" y="133">IF/ID.RT</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="185" y="154">ID/EX.MemRead</text>
      <text font-family="SansSerif" font-size="11" font-weight="bold" text-anchor="middle" x="136" y="89">BRANCH LOAD-USE HAZARD</text>
      <rect fill="none" height="18" rx="5" ry="5" stroke="#000000" width="161" x="56" y="76"/>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="77" y="114">IF/ID.RS</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="77" y="65">CLK</text>
      <polyline fill="none" points="50,70 60,60 50,50" stroke="#000000"/>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="76" y="154">Branch?</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="192" y="133">EX/MEM.RD</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="176" y="173">EX/MEM.MemRead</text>
      <circ-port height="8" pin="250,40" width="8" x="226" y="146"/>
      <circ-port height="8" pin="250,160" width="8" x="226" y="126"/>
      <circ-port height="8" pin="250,200" width="8" x="46" y="106"/>
      <circ-port height="8" pin="250,240" width="8" x="46" y="126"/>
      <circ-port height="8" pin="730,160" width="8" x="46" y="56"/>
      <circ-port height="8" pin="250,290" width="8" x="46" y="146"/>
      <circ-port height="8" pin="250,120" width="8" x="226" y="106"/>
      <circ-port height="8" pin="250,80" width="8" x="226" y="166"/>
      <circ-port height="10" pin="750,610" width="10" x="185" y="45"/>
      <circ-anchor facing="east" height="6" width="6" x="227" y="107"/>
    </appear>
    <wire from="(490,610)" to="(540,610)"/>
    <wire from="(490,630)" to="(540,630)"/>
    <wire from="(260,460)" to="(380,460)"/>
    <wire from="(260,660)" to="(380,660)"/>
    <wire from="(350,510)" to="(350,530)"/>
    <wire from="(350,550)" to="(350,570)"/>
    <wire from="(350,710)" to="(350,730)"/>
    <wire from="(350,750)" to="(350,770)"/>
    <wire from="(710,610)" to="(750,610)"/>
    <wire from="(570,620)" to="(680,620)"/>
    <wire from="(490,520)" to="(490,610)"/>
    <wire from="(490,630)" to="(490,720)"/>
    <wire from="(380,500)" to="(420,500)"/>
    <wire from="(380,700)" to="(420,700)"/>
    <wire from="(660,600)" to="(680,600)"/>
    <wire from="(320,770)" to="(350,770)"/>
    <wire from="(320,510)" to="(350,510)"/>
    <wire from="(320,570)" to="(350,570)"/>
    <wire from="(320,710)" to="(350,710)"/>
    <wire from="(260,580)" to="(280,580)"/>
    <wire from="(260,500)" to="(280,500)"/>
    <wire from="(260,520)" to="(280,520)"/>
    <wire from="(260,560)" to="(280,560)"/>
    <wire from="(260,700)" to="(280,700)"/>
    <wire from="(260,780)" to="(280,780)"/>
    <wire from="(260,720)" to="(280,720)"/>
    <wire from="(260,760)" to="(280,760)"/>
    <wire from="(350,550)" to="(370,550)"/>
    <wire from="(350,530)" to="(370,530)"/>
    <wire from="(350,730)" to="(370,730)"/>
    <wire from="(350,750)" to="(370,750)"/>
    <wire from="(400,540)" to="(420,540)"/>
    <wire from="(400,740)" to="(420,740)"/>
    <wire from="(470,520)" to="(490,520)"/>
    <wire from="(470,720)" to="(490,720)"/>
    <wire from="(380,460)" to="(380,500)"/>
    <wire from="(380,660)" to="(380,700)"/>
    <wire from="(250,40)" to="(270,40)"/>
    <wire from="(250,80)" to="(270,80)"/>
    <wire from="(250,200)" to="(270,200)"/>
    <wire from="(250,240)" to="(270,240)"/>
    <wire from="(250,160)" to="(270,160)"/>
    <wire from="(250,120)" to="(270,120)"/>
    <wire from="(250,290)" to="(270,290)"/>
    <wire from="(730,160)" to="(810,160)"/>
    <comp lib="0" loc="(270,40)" name="Tunnel">
      <a name="label" val="ID/EX.MemRead"/>
    </comp>
    <comp lib="0" loc="(260,520)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="IF/ID.RegisterRs"/>
    </comp>
    <comp lib="0" loc="(260,760)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="EX/MEM.RD"/>
    </comp>
    <comp lib="0" loc="(250,160)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="EX/MEM.RD"/>
    </comp>
    <comp lib="0" loc="(270,160)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="EX/MEM.RD"/>
    </comp>
    <comp lib="0" loc="(250,290)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="Is_Branch"/>
    </comp>
    <comp lib="0" loc="(270,80)" name="Tunnel">
      <a name="label" val="EX/MEM.MemRead"/>
    </comp>
    <comp lib="0" loc="(250,240)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="IF/ID.RegisterRt"/>
    </comp>
    <comp lib="3" loc="(320,510)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="0" loc="(250,80)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="EX/MEM.MemRead"/>
    </comp>
    <comp lib="0" loc="(270,120)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="ID/EX.RegisterRt"/>
    </comp>
    <comp lib="0" loc="(660,600)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="Is_Branch"/>
    </comp>
    <comp lib="6" loc="(437,392)" name="Text">
      <a name="text" val="BRANCH LOAD USE HAZARD - 2 CLOCK CYCLE STALL MANDATORY"/>
      <a name="font" val="SansSerif bold 16"/>
    </comp>
    <comp lib="0" loc="(270,200)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="IF/ID.RegisterRs"/>
    </comp>
    <comp lib="3" loc="(320,570)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="1" loc="(470,520)" name="AND Gate">
      <a name="inputs" val="2"/>
    </comp>
    <comp lib="1" loc="(400,540)" name="OR Gate">
      <a name="size" val="30"/>
      <a name="inputs" val="2"/>
    </comp>
    <comp lib="1" loc="(710,610)" name="AND Gate">
      <a name="size" val="30"/>
      <a name="inputs" val="2"/>
    </comp>
    <comp lib="0" loc="(260,460)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="ID/EX.MemRead"/>
    </comp>
    <comp lib="6" loc="(620,123)" name="Text">
      <a name="text" val="We always write to Rt register in case of lw. So no need to consider ID/EX.RegisterRd"/>
      <a name="font" val="SansSerif bold 12"/>
    </comp>
    <comp lib="0" loc="(250,120)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="ID/EX.RegisterRt"/>
    </comp>
    <comp lib="0" loc="(260,500)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="ID/EX.RegisterRt"/>
    </comp>
    <comp lib="0" loc="(260,720)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="IF/ID.RegisterRs"/>
    </comp>
    <comp lib="0" loc="(260,780)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="IF/ID.RegisterRt"/>
    </comp>
    <comp lib="0" loc="(260,580)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="IF/ID.RegisterRt"/>
    </comp>
    <comp lib="0" loc="(730,160)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(250,200)" name="Pin">
      <a name="width" val="4"/>
      <a name="tristate" val="false"/>
      <a name="label" val="IF/ID.RegisterRs"/>
    </comp>
    <comp lib="1" loc="(570,620)" name="OR Gate">
      <a name="size" val="30"/>
      <a name="inputs" val="2"/>
    </comp>
    <comp lib="0" loc="(270,240)" name="Tunnel">
      <a name="width" val="4"/>
      <a name="label" val="IF/ID.RegisterRt"/>
    </comp>
    <comp lib="1" loc="(400,740)" name="OR Gate">
      <a name="size" val="30"/>
      <a name="inputs" val="2"/>
    </comp>
    <comp lib="3" loc="(320,770)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="0" loc="(260,660)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="label" val="EX/MEM.MemRead"/>
    </comp>
    <comp lib="1" loc="(470,720)" name="AND Gate">
      <a name="inputs" val="2"/>
    </comp>
    <comp lib="0" loc="(250,40)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="ID/EX.MemRead"/>
    </comp>
    <comp lib="0" loc="(750,610)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="Hazard?"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="3" loc="(320,710)" name="Comparator">
      <a name="width" val="4"/>
      <a name="mode" val="unsigned"/>
    </comp>
    <comp lib="0" loc="(810,160)" name="Tunnel">
      <a name="label" val="CLK"/>
    </comp>
    <comp lib="0" loc="(260,700)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="EX/MEM.RD"/>
    </comp>
    <comp lib="0" loc="(270,290)" name="Tunnel">
      <a name="label" val="Is_Branch"/>
    </comp>
    <comp lib="0" loc="(260,560)" name="Tunnel">
      <a name="facing" val="east"/>
      <a name="width" val="4"/>
      <a name="label" val="ID/EX.RegisterRt"/>
    </comp>
  </circuit>
  <circuit name="Address Decoder">
    <a name="circuit" val="Address Decoder"/>
    <a name="clabel" val=""/>
    <a name="clabelup" val="east"/>
    <a name="clabelfont" val="SansSerif plain 12"/>
    <appear>
      <rect fill="none" height="65" stroke="#000000" stroke-width="2" width="100" x="50" y="55"/>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="75" y="94">ADDR</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="130" y="95">I/O?</text>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="115" y="114">I/O ADDR</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="73" y="71">ADDR</text>
      <text font-family="SansSerif" font-size="10" font-weight="bold" text-anchor="middle" x="117" y="71">DECODER</text>
      <rect fill="none" height="15" rx="4" ry="4" stroke="#000000" width="89" x="57" y="61"/>
      <circ-port height="8" pin="260,260" width="8" x="46" y="86"/>
      <circ-port height="10" pin="720,160" width="10" x="145" y="105"/>
      <circ-port height="10" pin="720,240" width="10" x="145" y="85"/>
      <circ-anchor facing="east" height="6" width="6" x="147" y="87"/>
    </appear>
    <wire from="(600,240)" to="(720,240)"/>
    <wire from="(510,240)" to="(600,240)"/>
    <wire from="(260,260)" to="(310,260)"/>
    <wire from="(460,260)" to="(480,260)"/>
    <wire from="(460,250)" to="(460,260)"/>
    <wire from="(470,240)" to="(470,250)"/>
    <wire from="(330,230)" to="(480,230)"/>
    <wire from="(330,220)" to="(480,220)"/>
    <wire from="(550,150)" to="(590,150)"/>
    <wire from="(470,250)" to="(480,250)"/>
    <wire from="(330,240)" to="(470,240)"/>
    <wire from="(620,160)" to="(720,160)"/>
    <wire from="(350,170)" to="(590,170)"/>
    <wire from="(600,180)" to="(600,240)"/>
    <wire from="(330,250)" to="(460,250)"/>
    <comp lib="6" loc="(974,155)" name="Text">
      <a name="text" val="1010 XXXX"/>
      <a name="font" val="SansSerif bold 16"/>
    </comp>
    <comp lib="1" loc="(510,240)" name="AND Gate">
      <a name="size" val="30"/>
      <a name="inputs" val="4"/>
    </comp>
    <comp lib="6" loc="(1026,172)" name="Text">
      <a name="text" val="Last 4 bits (XXXX) is I/O address"/>
      <a name="font" val="SansSerif bold 12"/>
    </comp>
    <comp lib="2" loc="(620,160)" name="Multiplexer">
      <a name="width" val="4"/>
      <a name="enable" val="false"/>
    </comp>
    <comp lib="6" loc="(381,310)" name="Text">
      <a name="text" val="This format of 16 addresses are reserved for I/O"/>
      <a name="font" val="SansSerif bold 12"/>
    </comp>
    <comp lib="0" loc="(720,160)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="width" val="4"/>
      <a name="label" val="Output Peripheral Address"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(350,170)" name="Splitter">
      <a name="facing" val="west"/>
      <a name="fanout" val="4"/>
      <a name="incoming" val="4"/>
    </comp>
    <comp lib="0" loc="(310,260)" name="Splitter">
      <a name="fanout" val="8"/>
      <a name="incoming" val="8"/>
    </comp>
    <comp lib="0" loc="(260,260)" name="Pin">
      <a name="width" val="8"/>
      <a name="tristate" val="false"/>
      <a name="label" val="Address"/>
    </comp>
    <comp lib="6" loc="(390,291)" name="Text">
      <a name="text" val="1111 XXXX"/>
      <a name="font" val="SansSerif bold 16"/>
    </comp>
    <comp lib="0" loc="(550,150)" name="Constant">
      <a name="width" val="4"/>
      <a name="value" val="0x0"/>
    </comp>
    <comp lib="0" loc="(720,240)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="Output Peripheral"/>
      <a name="labelloc" val="east"/>
    </comp>
  </circuit>
</project>
